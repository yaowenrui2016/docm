{"version":3,"sources":["common/http/index.ts","home/header/index.tsx","home/sider/user/index.tsx","home/sider/docm/list/index.tsx","common/util/index.ts","home/sider/docm/edit/index.tsx","home/sider/docm/index.tsx","home/sider/index.tsx","home/index.tsx","login/index.tsx","index.tsx"],"names":["xAuthToken","Header","menuPaths","HomeHeader","fetchDefaultSelectedKey","pathname","_this","props","location","selectedKeys","filter","path","indexOf","length","_this2","this","userId","menu","react_default","a","createElement","es_menu","Item","es_button","onClick","history","push","sessionStorage","removeItem","className","theme","mode","defaultSelectedKeys","style","lineHeight","onSelect","param","_this2$props","match","key","dropdown","overlay","placement","avatar","margin","size","Component","withRouter","Sider","UserSider","state","collapsed","handleSearch","value","console","log","toggleCollapsed","setState","layout","width","collapsedWidth","icon","type","padding","result","status","title","subTitle","React","serverPath","Http","Object","classCallCheck","put","data","config","getItem","headers","assign","x-auth-token","aConfig","Axios","concat","post","get","delete","Content","List","possibleConstructorReturn","getPrototypeOf","call","handleListChange","loading","asyncToGenerator","regenerator_default","mark","_callee","_this$state","pageSize","current","queryRequest","res","wrap","_context","prev","next","objectSpread","sent","stop","handleSelectChange","conditions","handleDeleteOper","_ref2","_callee3","ids","_context3","modal","confirm","okText","cancelText","onOk","_onOk","_callee2","queryString","_context2","forEach","id","substring","message","success","apply","arguments","_x","selectedRowKeys","total","undefined","content","sorters","_this$state2","columns","render","text","record","index","dataIndex","sorter","b","moment","createTime","format","fontSize","replace","event","url","aElement","document","href","target","click","window","URL","revokeObjectURL","display","breadcrumb","alignItems","flex","es_select","placeholder","tokenSeparators","showArrow","suffixIcon","onChange","notFoundContent","float","disabled","table","rowKey","rowSelection","dataSource","onRow","pagination","showSizeChanger","showTotal","filters","extra","name","field","order","toLowerCase","fetchOrderDirection","empty","description","MonthPicker","form","handleCancel","e","preventDefault","handleSubmit","validateFields","_ref","err","fielldValues","values","contractTime","credentialTime","_x2","fileList","params","info","setFieldsValue","attachments","map","attachment","uid","docName","response","docPath","_this3","edit_Content","flexGrow","block","WrappedNormalForm","wrappedComponentRef","es_form","labelCol","span","wrapperCol","label","upload","action","listType","multiple","file","offset","NormalForm","getFieldDecorator","input","hidden","rules","required","date_picker","create","Docm","docm_Sider","background","react_router_dom","react_router","exact","to","component","ListCmpt","EditCmpt","Side","DocmModule","UserModule","Home","home_header","home_sider","Login","password","md5","then","setItem","username","setFields","errors","Error","catch","error","WrappedNormalLoginForm","NormalLoginForm","prefix","color","App","src_home","src_login","renderMain","PureComponent","ReactDOM","src_App","getElementById"],"mappings":"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","file":"static/js/main.8d5ef2a7.chunk.js","sourcesContent":["import Axios from 'axios'\r\n\r\nexport const serverPath = \"http://localhost:8090\"\r\n\r\nexport let xAuthToken\r\n\r\nexport class Http {\r\n  static put = (path: string, data?: any, config?: any) => {\r\n    xAuthToken = sessionStorage.getItem('xAuthToken')\r\n    const headers = Object.assign({ 'x-auth-token': xAuthToken }, config ? config['headers'] : {})\r\n    const aConfig = Object.assign(config ? config : {}, { headers })\r\n    return Axios.put(`${serverPath}${path}`, data, aConfig)\r\n  }\r\n  static post = (path: string, data?: any, config?: any) => {\r\n    xAuthToken = sessionStorage.getItem('xAuthToken')\r\n    const headers = Object.assign({ 'x-auth-token': xAuthToken }, config ? config['headers'] : {})\r\n    const aConfig = Object.assign(config ? config : {}, { headers })\r\n    return Axios.post(`${serverPath}${path}`, data, aConfig)\r\n  }\r\n  static get = (path: string, config?: any) => {\r\n    xAuthToken = sessionStorage.getItem('xAuthToken')\r\n    const headers = Object.assign({ 'x-auth-token': xAuthToken }, config ? config['headers'] : {})\r\n    const aConfig = Object.assign(config ? config : {}, { headers })\r\n    return Axios.get(`${serverPath}${path}`, aConfig)\r\n  }\r\n  static delete = (path: string, config?: any) => {\r\n    xAuthToken = sessionStorage.getItem('xAuthToken')\r\n    const headers = Object.assign({ 'x-auth-token': xAuthToken }, config ? config['headers'] : {})\r\n    const aConfig = Object.assign(config ? config : {}, { headers })\r\n    return Axios.delete(`${serverPath}${path}`, aConfig)\r\n  }\r\n}\r\n\r\nexport interface QueryRequest {\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  conditions?: any\r\n  sorters?: any\r\n}\r\n\r\nexport interface QueryResult<T> {\r\n  total: number | undefined\r\n  content: Array<T>\r\n}\r\n\r\nexport default Http","import React, { Component } from 'react'\r\nimport './index.css'\r\nimport { Layout, Menu, Avatar, Dropdown, Button } from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\n\r\nconst { Header } = Layout\r\n\r\nconst menuPaths = ['/docm', '/user']\r\n\r\ninterface IProps extends RouteComponentProps {\r\n  userId: string\r\n}\r\n\r\ninterface IState {}\r\n\r\nclass HomeHeader extends Component<IProps, IState> {\r\n  fetchDefaultSelectedKey = () => {\r\n    const { pathname } = this.props.location\r\n    const selectedKeys = menuPaths.filter(path => {\r\n      return pathname.indexOf(path) >= 0\r\n    })\r\n    if (selectedKeys.length < 1) {\r\n      return [menuPaths[0]]\r\n    }\r\n    return selectedKeys\r\n  }\r\n\r\n  render() {\r\n    const { userId } = this.props\r\n    const menu = (\r\n      <Menu>\r\n        <Menu.Item>\r\n          <Button\r\n            onClick={() => {\r\n              this.props.history.push('/main/user')\r\n            }}\r\n          >\r\n            {'修改密码'}\r\n          </Button>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <Button\r\n            onClick={() => {\r\n              sessionStorage.removeItem('userId')\r\n              this.props.history.push('/main')\r\n            }}\r\n          >\r\n            {'退出'}\r\n          </Button>\r\n        </Menu.Item>\r\n      </Menu>\r\n    )\r\n    return (\r\n      <div>\r\n        <Header className=\"header\">\r\n          {/* <div key=\"logo\" className=\"logo\" /> */}\r\n          <Menu\r\n            className=\"navbar\"\r\n            theme=\"dark\"\r\n            mode=\"horizontal\"\r\n            defaultSelectedKeys={this.fetchDefaultSelectedKey()}\r\n            style={{ lineHeight: '64px' }}\r\n            onSelect={param => {\r\n              const { history, match } = this.props\r\n              history.push(match.path + param.key)\r\n            }}\r\n          >\r\n            <Menu.Item className=\"navbar-item\" key=\"/docm\">\r\n              我的项目\r\n            </Menu.Item>\r\n            <Menu.Item className=\"navbar-item\" key=\"/user\">\r\n              账户与安全\r\n            </Menu.Item>\r\n          </Menu>\r\n          <Dropdown overlay={menu} placement=\"bottomRight\">\r\n            <Avatar style={{ margin: '0 8px 0 0' }} size=\"large\">\r\n              {userId}\r\n            </Avatar>\r\n          </Dropdown>\r\n        </Header>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(HomeHeader)\r\n","import React from 'react'\r\nimport './index.css'\r\nimport { Layout, Menu, Icon, Result } from 'antd'\r\n\r\nconst { Sider } = Layout\r\n\r\nclass UserSider extends React.Component {\r\n  state = {\r\n    collapsed: false\r\n  }\r\n\r\n  handleSearch = (value: string) => {\r\n    console.log(value)\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <Sider\r\n          width={180}\r\n          theme=\"dark\"\r\n          collapsed={this.state.collapsed}\r\n          collapsedWidth={80}\r\n        >\r\n          <span className=\"aside-top\" onClick={this.toggleCollapsed}>\r\n            <Icon\r\n              style={{ margin: '0 0 0 10px' }}\r\n              type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\r\n            />\r\n          </span>\r\n          <Menu defaultSelectedKeys={['/normal']} mode=\"inline\" theme=\"dark\">\r\n            <Menu.Item className=\"aside-item\" key=\"/normal\">\r\n              <Icon type=\"user\" />\r\n              <span>账号管理</span>\r\n            </Menu.Item>\r\n            <Menu.Item className=\"aside-item\" key=\"/authority\">\r\n              <Icon type=\"safety-certificate\" />\r\n              <span>权限管理</span>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout style={{ padding: '0 24px 24px' }}>\r\n          <Result status=\"403\" title=\"403\" subTitle=\"对不起，拒绝访问\" />\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserSider\r\n","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Breadcrumb,\r\n  Select,\r\n  Button,\r\n  Table,\r\n  Empty,\r\n  message,\r\n  Icon,\r\n  Modal\r\n} from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport IDocmVO from '../type'\r\nimport Http, {\r\n  QueryResult,\r\n  QueryRequest,\r\n  serverPath\r\n} from '../../../../common/http'\r\nimport { toLine } from '../../../../common/util'\r\n\r\nconst { Content } = Layout\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  selectedRowKeys: string[] | number[]\r\n  /**\r\n   * 查询结果\r\n   */\r\n  data: QueryResult<IDocmVO>\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any | undefined\r\n    sorters: any | undefined\r\n  }\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      selectedRowKeys: [],\r\n      data: {\r\n        total: undefined,\r\n        content: []\r\n      },\r\n      pageSize: 10,\r\n      current: 1,\r\n      param: {\r\n        conditions: {},\r\n        sorters: {}\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleListChange = () => {\r\n    this.setState({ loading: true }, async () => {\r\n      const { pageSize, current, param } = this.state\r\n      const queryRequest: QueryRequest = {\r\n        pageSize,\r\n        current,\r\n        ...param\r\n      }\r\n      const res = await Http.post('/docm/list', queryRequest)\r\n      this.setState({ loading: false, data: res.data.data })\r\n    })\r\n  }\r\n\r\n  handleSelectChange = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['keywords'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleDeleteOper = async (ids: Array<string> | Array<number>) => {\r\n    Modal.confirm({\r\n      title: '确定删除?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: async () => {\r\n        let queryString = ''\r\n        ids.forEach(id => (queryString = queryString.concat(`ids=${id}&`)))\r\n        await Http.delete(\r\n          `/docm?${queryString.substring(0, queryString.length - 1)}`\r\n        )\r\n        message.success('删除成功')\r\n        this.handleListChange()\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { loading, selectedRowKeys, data, pageSize, current } = this.state\r\n    const { total, content } = data\r\n    const columns = [\r\n      {\r\n        title: '序号',\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n          return index + 1\r\n        }\r\n      },\r\n      {\r\n        title: '项目名称',\r\n        dataIndex: 'projectName',\r\n        key: 'projectName'\r\n      },\r\n      {\r\n        title: '项目类型',\r\n        dataIndex: 'projectType',\r\n        key: 'projectType'\r\n      },\r\n      {\r\n        title: '公司名称',\r\n        dataIndex: 'company',\r\n        key: 'company'\r\n      },\r\n      {\r\n        title: '合同号',\r\n        dataIndex: 'contractNum',\r\n        key: 'contractNum'\r\n      },\r\n      {\r\n        title: '合同签订时间',\r\n        dataIndex: 'contractTime',\r\n        key: 'contractTime',\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        }\r\n      },\r\n      {\r\n        title: '凭证时间',\r\n        dataIndex: 'credentialTime',\r\n        key: 'credentialTime',\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        }\r\n      },\r\n      {\r\n        title: '创建时间',\r\n        dataIndex: 'createTime',\r\n        key: 'createTime',\r\n        render: (text, record, index) => {\r\n          return moment(record.createTime).format('YYYY-MM-DD HH:mm:ss')\r\n        },\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        }\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'operation',\r\n        render: (text, record, index) => {\r\n          return (\r\n            <div>\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={'编辑'}\r\n                type=\"edit\"\r\n                onClick={() => {\r\n                  const { match } = this.props\r\n                  const path = match.path.replace('/list', `/edit/${record.id}`)\r\n                  this.props.history.push(path)\r\n                }}\r\n              />\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={'下载'}\r\n                type=\"download\"\r\n                onClick={event => {\r\n                  // event.preventDefault()\r\n                  // event.stopPropagation()\r\n                  // fetch(`${serverPath}/doc?id=${record.id}`, {\r\n                  //   method: 'post'\r\n                  // })\r\n                  //   .then(response => {\r\n                  //     response.blob().then(blob => {\r\n                  //       const blobUrl = window.URL.createObjectURL(blob)\r\n                  //       //不能直接创建一个<a>标签\r\n                  //       // let a = document.createElement('a_id');\r\n                  //       let a = document.getElementById('for_download')\r\n                  //       //无法从返回的文件流中获取文件名\r\n                  //       let filename = response.headers.get(\r\n                  //         'Content-Disposition'\r\n                  //       )\r\n                  //       // let filename = 'file.txt'\r\n                  //       if (a) {\r\n                  //         a['href'] = blobUrl\r\n                  //         a['download'] = filename1\r\n                  //         a.click()\r\n                  //         window.URL.revokeObjectURL(blobUrl)\r\n                  //       }\r\n                  //     })\r\n                  //   })\r\n                  //   .catch(error => {\r\n                  //     message.error('下载失败')\r\n                  //   })\r\n\r\n                  const url = `${serverPath}/doc?id=${record.id}`\r\n                  const aElement = document.createElement('a')\r\n                  aElement.href = url\r\n                  aElement.target = '_blank'\r\n                  aElement.click()\r\n                  window.URL.revokeObjectURL(url)\r\n                }}\r\n              />\r\n              <div id=\"downloadDiv\" style={{ display: 'none' }} />\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={'删除'}\r\n                type=\"delete\"\r\n                onClick={() => this.handleDeleteOper([record.id])}\r\n              />\r\n            </div>\r\n          )\r\n        }\r\n      }\r\n    ]\r\n    return (\r\n      <Content>\r\n        <Breadcrumb style={{ margin: '8px' }}>\r\n          <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n          <Breadcrumb.Item>我的项目</Breadcrumb.Item>\r\n          <Breadcrumb.Item>查询</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <div\r\n          style={{\r\n            margin: '4px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ margin: '4px', flex: 1 }}>\r\n            <Select\r\n              mode={'tags'}\r\n              placeholder={'请输入关键字'}\r\n              style={{ width: '280px' }}\r\n              tokenSeparators={[' ']}\r\n              showArrow={true}\r\n              suffixIcon={<Icon style={{ fontSize: '16px' }} type=\"search\" />}\r\n              onChange={this.handleSelectChange}\r\n              notFoundContent={null}\r\n            />\r\n          </div>\r\n          <div style={{ margin: '4px', flex: 1 }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button\r\n                className=\"ele-operation\"\r\n                type=\"primary\"\r\n                onClick={() => {\r\n                  const { match } = this.props\r\n                  const path = match.path.replace('/list', '/edit')\r\n                  this.props.history.push(path)\r\n                }}\r\n              >\r\n                新建\r\n              </Button>\r\n              <Button\r\n                type=\"ghost\"\r\n                disabled={selectedRowKeys.length < 1}\r\n                onClick={() => {\r\n                  this.handleDeleteOper(selectedRowKeys)\r\n                }}\r\n              >\r\n                批量删除\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>\r\n          {loading || data.content.length > 0 ? (\r\n            <Table\r\n              rowKey={record => {\r\n                return record.id\r\n              }}\r\n              rowSelection={{\r\n                selectedRowKeys,\r\n                onChange: selectedRowKeys => {\r\n                  this.setState({ selectedRowKeys })\r\n                }\r\n              }}\r\n              columns={columns}\r\n              dataSource={content}\r\n              loading={loading}\r\n              onRow={(record, index) => {\r\n                return {\r\n                  onClick: event => {\r\n                    if (event.target['tagName'] !== 'TD') {\r\n                      return\r\n                    }\r\n                    // TODO\r\n                    // message.info('查看' + record.id)\r\n                  }\r\n                }\r\n              }}\r\n              size={'middle'}\r\n              pagination={{\r\n                total,\r\n                current,\r\n                pageSize,\r\n                showSizeChanger: true,\r\n                showTotal: total => {\r\n                  return `共${total}条`\r\n                }\r\n              }}\r\n              onChange={(pagination, filters, sorter, extra) => {\r\n                const { param } = this.state\r\n                const { current, pageSize } = pagination\r\n                const { field, order } = sorter\r\n                param.sorters = {}\r\n                if (field && order) {\r\n                  param.sorters[toLine(field)] = fetchOrderDirection(order)\r\n                }\r\n                this.setState({ current, pageSize })\r\n                this.handleListChange()\r\n              }}\r\n            />\r\n          ) : (\r\n            <Empty description={'暂无内容'} />\r\n          )}\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nfunction fetchOrderDirection(order: string) {\r\n  if (order === 'descend') {\r\n    return 'desc'\r\n  } else {\r\n    return 'asc'\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n","/** 下划线转换驼峰 */\r\nexport function toHump(name: string) {\r\n  return name.replace(/_(\\w)/g, function (all, letter) {\r\n    return letter.toUpperCase();\r\n  });\r\n}\r\n\r\n/** 驼峰转换下划线 */\r\nexport function toLine(name: string) {\r\n  return name.replace(/([A-Z])/g, \"_$1\").toLowerCase();\r\n} ","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Breadcrumb,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  Icon,\r\n  message,\r\n  Upload,\r\n  // Modal,\r\n  DatePicker\r\n} from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { UploadFile } from 'antd/lib/upload/interface'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport IDocmVO from '../type'\r\nimport Http, { serverPath } from '../../../../common/http/index'\r\n\r\nconst { Content } = Layout\r\nconst { MonthPicker } = DatePicker\r\n\r\ntype IProps = RouteComponentProps & {\r\n  username: string\r\n}\r\n\r\ninterface IState {\r\n  mode: 'edit' | 'add' | undefined\r\n  loading: boolean\r\n  data: IDocmVO | undefined\r\n  fileList: Array<UploadFile>\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      mode: undefined,\r\n      loading: true,\r\n      data: undefined,\r\n      fileList: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    const mode = id ? 'edit' : 'add'\r\n    this.setState({ mode, loading: true }, async () => {\r\n      if (mode === 'edit') {\r\n        message.info('编辑')\r\n        const data = (await Http.get(`/docm?id=${id}`)).data.data\r\n        this.form &&\r\n          this.form.props.form.setFieldsValue({\r\n            ...data,\r\n            contractTime: data.contractTime\r\n              ? moment(data.contractTime, 'YYYY-MM-DD')\r\n              : undefined,\r\n            credentialTime: data.credentialTime\r\n              ? moment(data.credentialTime, 'YYYY-MM')\r\n              : undefined\r\n          })\r\n        const fileList = data.attachments.map(attachment => ({\r\n          uid: attachment.id,\r\n          size: 123,\r\n          name: attachment.docName,\r\n          type: 'image',\r\n          status: 'done',\r\n          response: {\r\n            status: '00000000',\r\n            data: [\r\n              {\r\n                docName: attachment.docName,\r\n                docPath: attachment.docPath\r\n              }\r\n            ]\r\n          }\r\n        }))\r\n        this.setState({ loading: false, fileList })\r\n      } else if (mode === 'add') {\r\n        message.info('新建')\r\n        this.form && this.form.props.form.setFieldsValue({ attachments: [] })\r\n      }\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    const { match } = this.props\r\n    const path = match.path.replace('/edit', '/list')\r\n    this.props.history.push(path)\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields(async (err, fielldValues) => {\r\n        if (!err) {\r\n          const values: IDocmVO = {\r\n            ...fielldValues,\r\n            contractTime: fielldValues['contractTime']\r\n              ? fielldValues['contractTime'].format('YYYY-MM-DD')\r\n              : undefined,\r\n            credentialTime: fielldValues['credentialTime']\r\n              ? fielldValues['credentialTime'].format('YYYY-MM')\r\n              : undefined\r\n          }\r\n          const { mode } = this.state\r\n          if (mode === 'add') {\r\n            await Http.put('/docm', values)\r\n          } else if (mode === 'edit') {\r\n            await Http.post('/docm', values)\r\n          }\r\n          const { match } = this.props\r\n          const path = match.path.replace('/edit', '/list')\r\n          this.props.history.push(path)\r\n        }\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { mode, fileList } = this.state\r\n    const setFieldsValue = this.form\r\n      ? this.form.props.form.setFieldsValue\r\n      : undefined\r\n    return (\r\n      <Content>\r\n        <Breadcrumb style={{ margin: '8px' }}>\r\n          <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n          <Breadcrumb.Item>我的项目</Breadcrumb.Item>\r\n          <Breadcrumb.Item>新建</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ order: 2, flexGrow: 1, padding: '0 8px 0 0' }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button block type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>\r\n          <WrappedNormalForm\r\n            wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n              this.form = form\r\n            }}\r\n          />\r\n          <Form labelCol={{ span: 8 }} wrapperCol={{ span: 8 }}>\r\n            <Form.Item key={'files'} label=\"上传附件\">\r\n              <Upload\r\n                style={{ width: '100%' }}\r\n                name=\"files\"\r\n                action={`${serverPath}/doc`}\r\n                listType={'picture'}\r\n                multiple={false}\r\n                fileList={fileList}\r\n                onChange={info => {\r\n                  const { fileList } = info\r\n                  const attachments = fileList\r\n                    .filter(file => {\r\n                      return file.status === 'done'\r\n                    })\r\n                    .map(file => {\r\n                      return {\r\n                        docName: file.response.data[0]['docName'],\r\n                        docPath: file.response.data[0]['docPath']\r\n                      }\r\n                    })\r\n                  setFieldsValue && setFieldsValue({ attachments })\r\n                  this.setState({ fileList })\r\n                }}\r\n              >\r\n                <Button block>\r\n                  <Icon type=\"upload\" /> 请选择\r\n                </Button>\r\n              </Upload>\r\n            </Form.Item>\r\n            <Form.Item key={'submit'} wrapperCol={{ span: 8, offset: 8 }}>\r\n              <Button block type={'primary'} onClick={this.handleSubmit}>\r\n                {mode === 'add' ? '提交' : '保存'}\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {\r\n  defaultFileList: Array<any>\r\n}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form labelCol={{ span: 8 }} wrapperCol={{ span: 8 }}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'projectName'} label=\"项目名称\">\r\n          {getFieldDecorator('projectName', {\r\n            rules: [{ required: true, message: '请输入项目名称' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'projectType'} label=\"项目类型\">\r\n          {getFieldDecorator('projectType', {\r\n            rules: [{ required: false, message: '请输入项目类型' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'company'} label=\"公司名称\">\r\n          {getFieldDecorator('company', {\r\n            rules: [{ required: false, message: '请输入公司名称' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'contractNum'} label=\"合同号\">\r\n          {getFieldDecorator('contractNum', {\r\n            rules: [{ required: false, message: '请输入合同号' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'contractTime'} label=\"合同签订时间\">\r\n          {getFieldDecorator('contractTime', {\r\n            rules: [{ required: false, message: '请输入合同签订时间' }]\r\n          })(<DatePicker format={'YYYY-MM-DD'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'credentialNum'} label=\"凭证号\">\r\n          {getFieldDecorator('credentialNum', {\r\n            rules: [{ required: false, message: '请输入凭证号' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'credentialTime'} label=\"凭证时间\">\r\n          {getFieldDecorator('credentialTime', {\r\n            rules: [{ required: false, message: '请输入凭证时间' }]\r\n          })(<MonthPicker format={'YYYY-MM'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'money'} label=\"金额\">\r\n          {getFieldDecorator('money', {\r\n            rules: [{ required: false, message: '请输入金额' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        {getFieldDecorator('attachments')}\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalForm)\r\n","import React from 'react'\r\nimport {\r\n  Layout\r\n  // Menu, Icon\r\n} from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport ListCmpt from './list'\r\nimport EditCmpt from './edit'\r\n// import ViewCmpt from './view'\r\n\r\nconst { Sider } = Layout\r\n\r\ntype IProps = RouteComponentProps & {\r\n  username: string\r\n}\r\n\r\ninterface IState {\r\n  collapsed: boolean\r\n}\r\n\r\nclass Docm extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      collapsed: false\r\n    }\r\n  }\r\n\r\n  handleSearch = (value: string) => {\r\n    console.log(value)\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <Sider width={0} />\r\n        <Layout style={{ padding: '0 24px 24px' }}>\r\n          <div style={{ margin: '0px', background: 'rgb(255, 255, 255)' }}>\r\n            <HashRouter>\r\n              <Switch>\r\n                <Redirect\r\n                  path={'/main/docm'}\r\n                  exact={true}\r\n                  to={'/main/docm/list'}\r\n                />\r\n                <Route path={'/main/docm/list'} component={ListCmpt} />\r\n                <Route path={'/main/docm/edit/:id'} component={EditCmpt} />\r\n                <Route path={'/main/docm/edit'} component={EditCmpt} />\r\n                {/* <Route path={'/main/docm/view'} component={ViewCmpt} /> */}\r\n              </Switch>\r\n            </HashRouter>\r\n          </div>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Docm)\r\n","import React from 'react'\r\nimport './index.css'\r\nimport {\r\n  HashRouter,\r\n  Switch,\r\n  withRouter,\r\n  Redirect,\r\n  Route,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport UserModule from './user/index'\r\nimport DocmModule from './docm/index'\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ntype IState = {}\r\n\r\nclass Side extends React.Component<IProps, IState> {\r\n  state = {\r\n    collapsed: false\r\n  }\r\n\r\n  handleSearch = (value: string) => {\r\n    console.log(value)\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <Switch>\r\n          <Redirect path={'/main'} exact={true} to={'/main/docm'} />\r\n          <Route path={'/main/docm'} component={DocmModule} />\r\n          <Route path={'/main/user'} component={UserModule} />\r\n        </Switch>\r\n      </HashRouter>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Side)\r\n","import React, { Component } from 'react'\r\nimport { Layout } from 'antd'\r\nimport HomeHeader from './header/index'\r\nimport HomeSider from './sider/index'\r\nimport './index.css'\r\n\r\ninterface IProps {\r\n  userId: string\r\n}\r\n\r\ninterface IState {}\r\n\r\nclass Home extends Component<IProps, IState> {\r\n  state = {\r\n    collapsed: false\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout className=\"ant-layout-home\">\r\n        <HomeHeader userId={this.props.userId} />\r\n        <HomeSider />\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport { Form, Icon, Input, Button, message } from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport Http from '../common/http/index'\r\nimport md5 from 'js-md5'\r\nimport './index.css'\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Login extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined\r\n\r\n  handleSubmit = (e: React.MouseEvent) => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields(async (err, values) => {\r\n        if (!err) {\r\n          const password = md5(values.password)\r\n          await Http.post('/login', { ...values, password })\r\n            .then(res => {\r\n              console.log(res)\r\n              if (res.data.status === '00000000') {\r\n                sessionStorage.setItem(\r\n                  'xAuthToken',\r\n                  res.headers['x-auth-token']\r\n                )\r\n                const userId = res.data.username\r\n                sessionStorage.setItem('userId', userId)\r\n                this.props.history.push('/main')\r\n              } else {\r\n                this.form &&\r\n                  this.form.props.form.setFields({\r\n                    password: {\r\n                      value: values.password,\r\n                      errors: [new Error(res.data.message)]\r\n                    }\r\n                  })\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.error('服务器异常')\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login-form\">\r\n        <WrappedNormalLoginForm\r\n          wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n            this.form = form\r\n          }}\r\n        />\r\n        <Button\r\n          className=\"login-form-button\"\r\n          type=\"primary\"\r\n          onClick={this.handleSubmit}\r\n        >\r\n          登录\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Login)\r\n\r\ninterface FormProps extends FormComponentProps {\r\n  username: string\r\n  password: string\r\n  onSubmit?: () => void\r\n}\r\n\r\nclass NormalLoginForm extends React.Component<FormProps, any> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form>\r\n        <Form.Item>\r\n          {getFieldDecorator('username', {\r\n            rules: [{ required: true, message: '请输入用户名' }]\r\n          })(\r\n            <Input\r\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"Username\"\r\n            />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('password', {\r\n            rules: [{ required: true, message: '请输入密码' }]\r\n          })(\r\n            <Input\r\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n          )}\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalLoginForm)\r\n","import React, { PureComponent } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom'\r\nimport Home from './home/index'\r\nimport Login from './login/index'\r\nimport './index.css'\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {\r\n  userId: string | undefined\r\n}\r\n\r\nclass App extends PureComponent<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      userId: undefined\r\n    }\r\n  }\r\n\r\n  renderMain() {\r\n    const userId = sessionStorage.getItem('userId')\r\n    return userId ? <Home userId={userId} /> : <Login />\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <Switch>\r\n          <Redirect path={'/'} exact={true} to={'/main'} />\r\n          <Route path={'/main'} render={() => this.renderMain()} />\r\n        </Switch>\r\n      </HashRouter>\r\n    )\r\n  }\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}