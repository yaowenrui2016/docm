{"version":3,"sources":["assert/img/login_3.jpg","assert/svg/Logo.svg","home/menu.ts","home/header/index.tsx","common/http/index.ts","home/sider/user/manage/add/index.tsx","home/sider/user/manage/edit/index.tsx","common/util/index.ts","common/simplelist/index.tsx","home/sider/user/manage/list/index.tsx","home/sider/user/manage/view/index.tsx","home/sider/user/manage/index.tsx","home/sider/user/authority/index.tsx","home/sider/user/index.tsx","common/route/index.tsx","home/sider/docm/list/index.tsx","home/sider/docm/edit/index.tsx","home/sider/docm/view/index.tsx","home/sider/docm/index.tsx","home/sider/account/info/index.tsx","home/sider/account/mod-pwd/index.tsx","home/sider/account/index.tsx","common/selector/user/index.tsx","home/sider/operlog/list/index.tsx","home/sider/operlog/view/index.tsx","home/sider/operlog/index.tsx","home/sider/index.tsx","home/index.tsx","login/index.tsx","index.tsx"],"names":["module","exports","__webpack_require__","p","menu","key","title","role","Header","HomeHeader","fetchDefaultSelectedKey","menus","pathname","_this","props","location","menuPaths","map","m","selectedKeys","filter","path","indexOf","length","_this2","this","react_default","a","createElement","es_menu","Item","es_button","onClick","history","push","sessionStorage","removeItem","setTimeout","UserContext","Consumer","userInfo","headerMenu","className","theme","mode","style","lineHeight","onSelect","param","_this2$props","match","dropdown","overlay","placement","avatar","margin","color","fontSize","size","Component","withRouter","serverPath","http","axios","create","baseURL","withCredentials","timeout","interceptors","request","use","config","xAuthToken","getItem","headers","error","console","response","setItem","data","status","Error","message","createHashHistory","Content","Option","Add","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","form","undefined","handleCancel","e","preventDefault","concat","manageSiderPath","handleSubmit","validateFields","err","values","params","objectSpread","password","md5","dept","id","Http","put","then","res","catch","handlePermOnChange","permissions","setFieldsValue","perm","setState","handleDeptOnChange","state","treeData","deptData","get","v","index","group","value","children","name","post","_this3","_this$state","display","alignItems","order","flexGrow","padding","float","block","type","WrappedNormalForm","wrappedComponentRef","es_form","formItemLayout","label","es_select","width","placeholder","showSearch","allowClear","optionFilterProp","filterOption","input","option","toLowerCase","onChange","tree_select","searchPlaceholder","multiple","treeCheckable","tailFormItemLayout","React","labelCol","xs","span","sm","wrapperCol","offset","NormalForm","getFieldDecorator","hidden","rules","required","pattern","validator","_validator","asyncToGenerator","regenerator_default","mark","_callee","rule","callback","source","options","wrap","_context","prev","next","cku","stop","_x","_x2","_x3","_x4","_x5","apply","arguments","validateTrigger","max","Edit","loading","edit_Content","edit_WrappedNormalForm","edit_Option","_this$props$form","getFieldValue","toLine","replace","List","handleListChange","httpPath","pageSize","current","queryRequest","handleSelectChange","conditions","handleDeleteOper","_ref","ids","modal","confirm","okText","cancelText","onOk","queryString","forEach","delete","substring","success","handleOk","modalFlag","method","msg","modalData","selectedRowKeys","total","content","sorters","modelName","tokenSeparators","showArrow","suffixIcon","icon","notFoundContent","event","disabled","render","text","record","onHeaderCell","column","textAlign","onCell","rowIndex","dataIndex","moment","createTime","format","sorter","b","_this4","_this$state2","table","rowKey","rowSelection","columnWidth","columns","buildColumns","dataSource","pagination","pageSizeOptions","showSizeChanger","showTotal","filters","extra","field","fetchOrderDirection","empty","description","_this5","_this$state3","visible","onCancel","simplelist_WrappedNormalForm","resetFields","simplelist_Content","renderSearchBar","renderButtonBar","renderTable","renderAddModal","TabPane","loadDeptData","handleSelectChangeForKeyword","handleSelectChangeForDept","marginRight","list_Option","overflow","textOverflow","whiteSpace","cursor","tooltip","frozen","operation","onRow","target","list_Content","tabs","defaultActiveKey","tab","simplelist","renderKeywordSearchBar","renderDeptSearchBar","TreeNode","View","username","phone","email","tree","showLine","defaultExpandAll","spin","view_Content","flex","renderContent","Manage","curItem","breadcrumb","react_router_dom","react_router","exact","to","component","ListCmpt","AddCmpt","EditCmpt","ViewCmpt","Authority","modulePath","Sider","UserSider","collapsed","handleOnSelect","toggleCollapsed","layout","collapsedWidth","PrivateRoute","objectWithoutProperties","needPerms","userPerms","find","userPerm","Array","needPerm","assign","result","height","subTitle","from","loadProjectTypes","projectTypes","handleSelectChangeForProjectType","_callee2","_context2","_onOk","pType","docm_list_Option","DOCM_ADD_OPER_permission","DOCM_DELETE_OPER_permission","DOCM_EDIT_OPER_permission","DOCM_DOWNLOAD_OPER_permission","url","aElement","document","href","click","window","URL","revokeObjectURL","onShowSizeChange","docm_list_Content","renderProjectTypeSearchBar","MonthPicker","contractTime","credentialTime","info","selectedDept","fileList","attachments","attachment","uid","docName","docPath","docm_edit_Option","upload","action","listType","file","docm_edit_Content","docm_edit_WrappedNormalForm","date_picker","projectName","projectType","company","contractNum","credentialNum","money","docm_view_Content","Docm","docm_Sider","route","permission","Info","separator","info_Content","ModPwd","fielldValues","oldPassword","mod_pwd_WrappedNormalForm","mod_pwd_Content","menusKey","AccountSider","account_Sider","UserSelector","fetchUser","keywordUsername","account","handleChange","debounce","ranges","onSearch","d","user_Option","Panel","loadOperNames","operNames","handleSelectChangeForOperator","handleSelectChangeForOperName","handleCreateTimeRangeChange","createTimeRange","start","add","end","rangeOptionValue","modules","activeKey","es_radio","Group","Button","selector_user","operName","operlog_list_Option","collapse","bordered","border","header","renderPanel","colPropsfor10","operlog_list_Content","viewItemLayout","row","col","operator","ip","userAgent","operlog_view_Content","Operlog","operlog_Sider","Side","routeMap","DocmModule","UserModule","AccountModule","OperlogModule","r","createContext","Home","Provider","home_header","home_sider","Login","setFields","errors","src","img","alt","Logo","WrappedNormalLoginForm","NormalLoginForm","prefix","App","locale_provider","locale","zhCN","PureComponent","ReactDOM","src_App","getElementById"],"mappings":"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","file":"static/js/main.e03b038d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/login_3.c155b94e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/Logo.b29324c4.svg\";","\r\nconst menu = [\r\n  {\r\n    key: '/docm',\r\n    title: '项目合同',\r\n    role: ['normal']\r\n  },\r\n  {\r\n    key: '/user',\r\n    title: '账号管理',\r\n    role: ['admin']\r\n  },\r\n  {\r\n    key: '/operlog',\r\n    title: '日志审计',\r\n    role: ['admin']\r\n  },\r\n  {\r\n    key: '/account',\r\n    title: '我的账号',\r\n    role: ['normal', 'admin']\r\n  },\r\n]\r\n\r\nexport default menu","import React, { Component } from 'react'\r\nimport './index.css'\r\nimport { Layout, Menu, Avatar, Dropdown, Button } from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport headerMenu from '../menu'\r\nimport { UserContext } from '../index'\r\n\r\nconst { Header } = Layout\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nclass HomeHeader extends Component<IProps, IState> {\r\n  fetchDefaultSelectedKey = menus => {\r\n    const { pathname } = this.props.location\r\n    const menuPaths = menus.map(m => m.key)\r\n    const selectedKeys = menuPaths.filter(path => {\r\n      return pathname.indexOf(path) >= 0\r\n    })\r\n    if (selectedKeys.length < 1) {\r\n      return [menuPaths[0]]\r\n    }\r\n    return selectedKeys\r\n  }\r\n\r\n  render() {\r\n    const menu = (\r\n      <Menu>\r\n        <Menu.Item>\r\n          <Button\r\n            onClick={() => {\r\n              this.props.history.push('/main/account/mod-pwd')\r\n            }}\r\n          >\r\n            {'修改密码'}\r\n          </Button>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <Button\r\n            onClick={() => {\r\n              sessionStorage.removeItem('userId')\r\n              setTimeout(() => {\r\n                this.props.history.push('/login')\r\n              }, 300)\r\n            }}\r\n          >\r\n            {'退出'}\r\n          </Button>\r\n        </Menu.Item>\r\n      </Menu>\r\n    )\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const menus = headerMenu.filter(m => {\r\n            if (userInfo['username'] === 'admin') {\r\n              return m.role.filter(role => role === 'admin').length > 0\r\n            } else {\r\n              return m.role.filter(role => role === 'normal').length > 0\r\n            }\r\n          })\r\n          const selectedKeys = this.fetchDefaultSelectedKey(menus)\r\n          return (\r\n            <div>\r\n              <Header className=\"header\">\r\n                {/* <div key=\"logo\" className=\"logo\" /> */}\r\n                <Menu\r\n                  className=\"navbar\"\r\n                  theme=\"dark\"\r\n                  mode=\"horizontal\"\r\n                  selectedKeys={selectedKeys}\r\n                  style={{ lineHeight: '64px' }}\r\n                  onSelect={param => {\r\n                    const { history, match } = this.props\r\n                    history.push(match.path + param.key)\r\n                  }}\r\n                >\r\n                  {menus.map(m => {\r\n                    return (\r\n                      <Menu.Item className=\"navbar-item\" key={m.key}>\r\n                        {m.title}\r\n                      </Menu.Item>\r\n                    )\r\n                  })}\r\n                </Menu>\r\n                <Dropdown overlay={menu} placement=\"bottomRight\">\r\n                  <Avatar\r\n                    style={{\r\n                      margin: '0 8px 0 0',\r\n                      color: 'white',\r\n                      fontSize: '25px'\r\n                    }}\r\n                    size=\"large\"\r\n                  >\r\n                    {userInfo['username']}\r\n                  </Avatar>\r\n                </Dropdown>\r\n              </Header>\r\n            </div>\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(HomeHeader)\r\n","import axios from 'axios'\r\nimport { createHashHistory } from 'history'\r\nimport { message } from 'antd'\r\n\r\nexport interface QueryRequest {\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  conditions?: any\r\n  sorters?: any\r\n}\r\n\r\nexport interface QueryResult<T> {\r\n  total: number | undefined\r\n  content: Array<T>\r\n}\r\n\r\nexport const serverPath = \"http://aby.docm.com:8090\"\r\n\r\nconst http = axios.create({\r\n  baseURL: serverPath,\r\n  withCredentials: false,\r\n  timeout: 60000\r\n});\r\n\r\nhttp.interceptors.request.use(config => {\r\n  const xAuthToken = sessionStorage.getItem('xAuthToken');\r\n  if (xAuthToken) {\r\n    config.headers['x-auth-token'] = xAuthToken\r\n  }\r\n  return config\r\n}, error => {\r\n  console.error('请求异常')\r\n})\r\n\r\nhttp.interceptors.response.use(response => {\r\n  const xAuthToken = response.headers['x-auth-token']\r\n  if (xAuthToken) {\r\n    sessionStorage.setItem('xAuthToken', xAuthToken)\r\n  }\r\n  // TODO\r\n  if (response.data.status === \"03001020\") {\r\n    throw new Error(response.data.message)\r\n  }\r\n  return response\r\n}, error => {\r\n  if (error.response.status === 401) {\r\n    sessionStorage.removeItem('userId')\r\n    message.error('登录超时，请重新登录', 3)\r\n    setTimeout(() => {\r\n      createHashHistory().push(\"/login\")\r\n    }, 500)\r\n  }\r\n})\r\n\r\nexport default http","import React from 'react'\r\nimport { Layout, Button, Form, Input, message, Select, TreeSelect } from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport IAccountVO from '../type'\r\nimport Http from '../../../../../common/http'\r\nimport md5 from 'js-md5'\r\nimport { manageSiderPath } from '../../index'\r\n\r\nconst { Content } = Layout\r\nconst { Option } = Select\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  treeData: Array<any>\r\n  permissions: Array<any>\r\n  deptData: Array<any>\r\n}\r\n\r\nclass Add extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      treeData: [],\r\n      permissions: [],\r\n      deptData: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    Http.get(`/perm/all`)\r\n      .then(res => {\r\n        const treeData = res.data.data.map((v, index) => {\r\n          return {\r\n            key: index,\r\n            title: v.group,\r\n            value: undefined,\r\n            children: v.permissions.map(perm => {\r\n              return {\r\n                key: perm.id,\r\n                title: perm.name,\r\n                value: perm.id\r\n              }\r\n            })\r\n          }\r\n        })\r\n        this.setState({ treeData })\r\n      })\r\n      .catch(err => {})\r\n    Http.post(`/dept/list-all`)\r\n      .then(res => {\r\n        this.setState({ deptData: res.data.data })\r\n      })\r\n      .catch(err => {})\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${manageSiderPath}/list`)\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          const params: IAccountVO = {\r\n            ...values,\r\n            password: md5(values.password ? values.password : '1234'),\r\n            dept: {\r\n              id: values.dept\r\n            }\r\n          }\r\n          Http.put('/user', params)\r\n            .then(res => {\r\n              if (res.data.status === '00000000') {\r\n                this.props.history.push(`${manageSiderPath}/list`)\r\n              } else {\r\n                message.error(res.data.message)\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.error(err.response.data.message)\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  handlePermOnChange = permissions => {\r\n    this.form &&\r\n      this.form.props.form.setFieldsValue({\r\n        permissions: permissions.map(perm => ({ id: perm }))\r\n      })\r\n    this.setState({ permissions })\r\n  }\r\n\r\n  handleDeptOnChange = dept => {\r\n    this.form &&\r\n      this.form.props.form.setFieldsValue({\r\n        dept\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { treeData, permissions, deptData } = this.state\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ order: 2, flexGrow: 1, padding: '0 8px 0 0' }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button block type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>\r\n          <WrappedNormalForm\r\n            wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n              this.form = form\r\n            }}\r\n          />\r\n          <Form {...formItemLayout}>\r\n            <Form.Item key={'dept'} label=\"所属科室\">\r\n              <Select\r\n                style={{ width: '100%' }}\r\n                placeholder={'请选择'}\r\n                showSearch\r\n                allowClear\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option: any) =>\r\n                  option.props.children\r\n                    .toLowerCase()\r\n                    .indexOf(input.toLowerCase()) >= 0\r\n                }\r\n                onChange={this.handleDeptOnChange}\r\n              >\r\n                {deptData.map(dept => (\r\n                  <Option value={dept.id}>{dept.name}</Option>\r\n                ))}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item key={'permissions'} label=\"账号授权\">\r\n              <TreeSelect\r\n                style={{ width: '100%' }}\r\n                searchPlaceholder={'请选择'}\r\n                multiple={true}\r\n                showSearch={false}\r\n                treeData={treeData}\r\n                value={permissions}\r\n                treeCheckable={true}\r\n                onChange={this.handlePermOnChange}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n              <Button block type={'primary'} onClick={this.handleSubmit}>\r\n                {'提交'}\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Add)\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 2,\r\n      offset: 0\r\n    },\r\n    sm: {\r\n      span: 2,\r\n      offset: 4\r\n    }\r\n  }\r\n}\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {\r\n  defaultFileList: Array<any>\r\n}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'username'} label=\"用户名\">\r\n          {getFieldDecorator('username', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                type: 'string',\r\n                pattern: /^[a-zA-Z][a-zA-Z0-9_]{2,11}$/,\r\n                message: '用户名为3~12位字母、数字或下划线,第一位必须为字母'\r\n              },\r\n              {\r\n                message: '用户名已存在',\r\n                validator: async (rule, value, callback, source, options) => {\r\n                  await Http.get(\r\n                    `/user/check-unique-username?username=${value}`\r\n                  )\r\n                    .then(res => {\r\n                      if (res.data.status === '00000000') {\r\n                        const cku = res.data.data === true ? true : undefined\r\n                        callback(cku)\r\n                      } else {\r\n                        message.error(res.data.message)\r\n                        callback()\r\n                      }\r\n                    })\r\n                    .catch(err => {\r\n                      message.error('服务器异常')\r\n                      callback()\r\n                    })\r\n                }\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'password'} label=\"密码\">\r\n          {getFieldDecorator('password', {\r\n            rules: [\r\n              {\r\n                required: false,\r\n                message: '密码为4~16位任意字符',\r\n                pattern: /^.{4,16}$/\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input type={'password'} placeholder={'默认密码为1234'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'phone'} label=\"手机\">\r\n          {getFieldDecorator('phone', {\r\n            rules: [\r\n              {\r\n                required: false,\r\n                message: '请输入正确的手机号',\r\n                max: 11\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'email'} label=\"邮箱\">\r\n          {getFieldDecorator('email', {\r\n            rules: [\r\n              {\r\n                required: false,\r\n                message: '请输入正确的邮箱',\r\n                type: 'email'\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        {/** 所属科室 */}\r\n        {getFieldDecorator('dept')}\r\n        {/** 账号授权 */}\r\n        {getFieldDecorator('permissions')}\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalForm)\r\n","import React from 'react'\r\nimport { Layout, Button, Form, Input, message, Select, TreeSelect } from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport IAccountVO from '../type'\r\nimport Http from '../../../../../common/http'\r\nimport { manageSiderPath } from '../../index'\r\n\r\nconst { Content } = Layout\r\nconst { Option } = Select\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  /**\r\n   * 用户id\r\n   */\r\n  id: string\r\n  /**\r\n   * 权限选择器备选数据\r\n   */\r\n  treeData: Array<any>\r\n  /**\r\n   * 用户拥有权限的id，赋值给权限选择器，显示用\r\n   */\r\n  permissions: Array<any>\r\n  /**\r\n   * 科室选择器备选数据\r\n   */\r\n  deptData: Array<any>\r\n  /**\r\n   * 用户所属科室的id，赋值给科室选择器，显示用\r\n   */\r\n  dept: string\r\n}\r\n\r\nclass Edit extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      id: this.props.match.params['id'],\r\n      loading: true,\r\n      treeData: [],\r\n      permissions: [],\r\n      deptData: [],\r\n      dept: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.state\r\n    this.setState({ loading: true }, () => {\r\n      Http.get(`/user?id=${id}`)\r\n        .then(res => {\r\n          const data = res.data.data\r\n          const dept = data.dept ? data.dept.id : undefined\r\n          this.form &&\r\n            this.form.props.form.setFieldsValue({\r\n              ...data,\r\n              dept\r\n            })\r\n          const permissions = data.permissions.map(perm => perm.id)\r\n          this.setState({ loading: false, permissions, dept })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n      Http.get(`/perm/all`)\r\n        .then(res => {\r\n          const treeData = res.data.data.map((v, index) => {\r\n            return {\r\n              key: index,\r\n              title: v.group,\r\n              value: undefined,\r\n              children: v.permissions.map(perm => {\r\n                return {\r\n                  key: perm.id,\r\n                  title: perm.name,\r\n                  value: perm.id\r\n                }\r\n              })\r\n            }\r\n          })\r\n          this.setState({ treeData })\r\n        })\r\n        .catch(err => {})\r\n\r\n      Http.post(`/dept/list-all`)\r\n        .then(res => {\r\n          this.setState({ deptData: res.data.data })\r\n        })\r\n        .catch(err => {})\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${manageSiderPath}/list`)\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          const params: IAccountVO = {\r\n            ...values,\r\n            dept: {\r\n              id: values.dept\r\n            }\r\n          }\r\n          Http.post('/user', params)\r\n            .then(res => {\r\n              if (res.data.status === '00000000') {\r\n                this.props.history.push(`${manageSiderPath}/list`)\r\n              } else {\r\n                message.error(res.data.message)\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.error(err.response.data.message)\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  handlePermOnChange = permissions => {\r\n    this.form &&\r\n      this.form.props.form.setFieldsValue({\r\n        permissions: permissions.map(perm => ({ id: perm }))\r\n      })\r\n    this.setState({ permissions })\r\n  }\r\n\r\n  handleDeptOnChange = dept => {\r\n    this.form &&\r\n      this.form.props.form.setFieldsValue({\r\n        dept\r\n      })\r\n    this.setState({ dept })\r\n  }\r\n\r\n  render() {\r\n    const { loading, treeData, permissions, deptData, dept } = this.state\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ order: 2, flexGrow: 1, padding: '0 8px 0 0' }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button block type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>\r\n          <WrappedNormalForm\r\n            wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n              this.form = form\r\n            }}\r\n          />\r\n          <Form {...formItemLayout}>\r\n            <Form.Item key={'dept'} label=\"所属科室\">\r\n              <Select\r\n                style={{ width: '100%' }}\r\n                placeholder={'请选择'}\r\n                value={dept}\r\n                showSearch\r\n                allowClear\r\n                optionFilterProp=\"children\"\r\n                filterOption={(input, option: any) =>\r\n                  option.props.children\r\n                    .toLowerCase()\r\n                    .indexOf(input.toLowerCase()) >= 0\r\n                }\r\n                onChange={this.handleDeptOnChange}\r\n              >\r\n                {deptData.map(dept => (\r\n                  <Option value={dept.id}>{dept.name}</Option>\r\n                ))}\r\n              </Select>\r\n            </Form.Item>\r\n            <Form.Item key={'permissions'} label=\"账号授权\">\r\n              <TreeSelect\r\n                style={{ width: '100%' }}\r\n                searchPlaceholder={'请选择'}\r\n                multiple={true}\r\n                treeData={treeData}\r\n                value={permissions}\r\n                treeCheckable={true}\r\n                onChange={this.handlePermOnChange}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item {...tailFormItemLayout}>\r\n              <Button\r\n                block\r\n                type={'primary'}\r\n                loading={loading}\r\n                onClick={this.handleSubmit}\r\n              >\r\n                {'保存'}\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Edit)\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 2,\r\n      offset: 0\r\n    },\r\n    sm: {\r\n      span: 2,\r\n      offset: 4\r\n    }\r\n  }\r\n}\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {\r\n  defaultFileList: Array<any>\r\n}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator, getFieldValue } = this.props.form\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'username'} label=\"用户名\">\r\n          {getFieldDecorator('username', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                type: 'string',\r\n                pattern: /^[a-zA-Z][a-zA-Z0-9_]{2,11}$/,\r\n                message: '用户名为3~12位字母、数字或下划线,第一位必须为字母'\r\n              },\r\n              {\r\n                message: '用户名已存在',\r\n                validator: async (rule, value, callback, source, options) => {\r\n                  const id = getFieldValue('id')\r\n                  await Http.get(\r\n                    `/user/check-unique-username?username=${value}&id=${id}`\r\n                  )\r\n                    .then(res => {\r\n                      if (res.data.status === '00000000') {\r\n                        const cku = res.data.data === true ? true : undefined\r\n                        callback(cku)\r\n                      } else {\r\n                        message.error(res.data.message)\r\n                        callback()\r\n                      }\r\n                    })\r\n                    .catch(err => {\r\n                      message.error('服务器异常')\r\n                      callback()\r\n                    })\r\n                }\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'phone'} label=\"手机\">\r\n          {getFieldDecorator('phone', {\r\n            rules: [\r\n              {\r\n                required: false,\r\n                message: '请输入正确的手机号',\r\n                max: 11\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'email'} label=\"邮箱\">\r\n          {getFieldDecorator('email', {\r\n            rules: [\r\n              {\r\n                required: false,\r\n                message: '请输入正确的邮箱',\r\n                type: 'email'\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        {/** 所属科室 */}\r\n        {getFieldDecorator('dept')}\r\n        {/** 角色授权 */}\r\n        {getFieldDecorator('permissions')}\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalForm)\r\n","/** 下划线转换驼峰 */\r\nexport function toHump(name: string) {\r\n  return name.replace(/_(\\w)/g, function (all, letter) {\r\n    return letter.toUpperCase();\r\n  });\r\n}\r\n\r\n/** 驼峰转换下划线 */\r\nexport function toLine(name: string) {\r\n  return name.replace(/([A-Z])/g, \"_$1\").toLowerCase();\r\n} ","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Select,\r\n  Button,\r\n  Table,\r\n  Empty,\r\n  message,\r\n  Icon,\r\n  Modal,\r\n  Input,\r\n  Form\r\n} from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport Http, { QueryResult, QueryRequest } from '../http'\r\nimport BaseVO from '../types'\r\nimport { toLine } from '../util'\r\n\r\nconst { Content } = Layout\r\n\r\ntype IProps = RouteComponentProps & {\r\n  /**\r\n   * 数据请求的路径\r\n   */\r\n  httpPath: string\r\n  /**\r\n   * 模型名称\r\n   */\r\n  modelName: string\r\n}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  selectedRowKeys: string[] | number[]\r\n  /**\r\n   * 查询结果\r\n   */\r\n  data: QueryResult<BaseVO>\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any | undefined\r\n    sorters: any | undefined\r\n  }\r\n  /**\r\n   * 展现模态框形态：0-不展示 1-新建 2-编辑\r\n   */\r\n  modalFlag: number\r\n  modalData: BaseVO | undefined\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      selectedRowKeys: [],\r\n      data: {\r\n        total: undefined,\r\n        content: []\r\n      },\r\n      pageSize: 10,\r\n      current: 1,\r\n      param: {\r\n        conditions: {},\r\n        sorters: {}\r\n      },\r\n      modalFlag: 0,\r\n      modalData: undefined\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleListChange = () => {\r\n    const { httpPath } = this.props\r\n    this.setState({ loading: true }, () => {\r\n      const { pageSize, current, param } = this.state\r\n      const queryRequest: QueryRequest = {\r\n        pageSize,\r\n        current,\r\n        ...param\r\n      }\r\n      Http.post(`${httpPath}/list`, queryRequest)\r\n        .then(res => {\r\n          this.setState({ loading: false, data: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleSelectChange = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['keywords'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleDeleteOper = async (ids: Array<string> | Array<number>) => {\r\n    const { httpPath } = this.props\r\n    Modal.confirm({\r\n      title: '确定删除?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        let queryString = ''\r\n        ids.forEach(id => (queryString = queryString.concat(`ids=${id}&`)))\r\n        Http.delete(\r\n          `${httpPath}?${queryString.substring(0, queryString.length - 1)}`\r\n        ).then(res => {\r\n          if (res.data.status === '00000000') {\r\n            message.success('删除成功')\r\n            this.handleListChange()\r\n          } else {\r\n            message.error(res.data.message)\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  renderSearchBar() {\r\n    const { modelName } = this.props\r\n    return (\r\n      <Select\r\n        mode={'tags'}\r\n        placeholder={`请输入${modelName}`}\r\n        style={{ width: '280px' }}\r\n        tokenSeparators={[' ']}\r\n        showArrow={true}\r\n        suffixIcon={<Icon style={{ fontSize: '16px' }} type=\"search\" />}\r\n        onChange={this.handleSelectChange}\r\n        notFoundContent={null}\r\n      />\r\n    )\r\n  }\r\n\r\n  renderButtonBar() {\r\n    const { selectedRowKeys } = this.state\r\n    return (\r\n      <div>\r\n        <Button\r\n          className=\"ele-operation\"\r\n          type=\"primary\"\r\n          onClick={event => {\r\n            event.preventDefault()\r\n            this.setState({ modalFlag: 1 })\r\n          }}\r\n        >\r\n          新建\r\n        </Button>\r\n        <Button\r\n          type=\"ghost\"\r\n          disabled={selectedRowKeys.length < 1}\r\n          onClick={() => {\r\n            this.handleDeleteOper(selectedRowKeys)\r\n          }}\r\n        >\r\n          批量删除\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  buildColumns() {\r\n    const columns = [\r\n      {\r\n        title: '序号',\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n          return index + 1\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '5%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '名称',\r\n        key: 'name',\r\n        dataIndex: 'name',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '创建时间',\r\n        key: 'createTime',\r\n        dataIndex: 'createTime',\r\n        render: (text, record, index) => {\r\n          return moment(record.createTime).format('YYYY-MM-DD HH:mm:ss')\r\n        },\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '15%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'operation',\r\n        render: (text, record, index) => {\r\n          return (\r\n            <div>\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={'编辑'}\r\n                type=\"edit\"\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  this.setState({ modalFlag: 2, modalData: record })\r\n                }}\r\n              />\r\n              <div id=\"downloadDiv\" style={{ display: 'none' }} />\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={'删除'}\r\n                type=\"delete\"\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  this.handleDeleteOper([record.id])\r\n                }}\r\n              />\r\n            </div>\r\n          )\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '12%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      }\r\n    ]\r\n    return columns\r\n  }\r\n\r\n  renderTable() {\r\n    const { loading, selectedRowKeys, data, pageSize, current } = this.state\r\n    const { total, content } = data\r\n    return loading || data.content.length > 0 ? (\r\n      <Table\r\n        rowKey={record => {\r\n          return record.id\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: '30px',\r\n          selectedRowKeys,\r\n          onChange: selectedRowKeys => {\r\n            this.setState({ selectedRowKeys })\r\n          }\r\n        }}\r\n        columns={this.buildColumns()}\r\n        dataSource={content}\r\n        loading={loading}\r\n        pagination={{\r\n          total,\r\n          current,\r\n          pageSize,\r\n          pageSizeOptions: ['10', '20', '50'],\r\n          showSizeChanger: true,\r\n          showTotal: total => {\r\n            return `共 ${total} 条`\r\n          }\r\n        }}\r\n        onChange={(pagination, filters, sorter, extra) => {\r\n          const { param } = this.state\r\n          const { current, pageSize } = pagination\r\n          const { field, order } = sorter\r\n          param.sorters = {}\r\n          if (field && order) {\r\n            param.sorters[toLine(field)] = fetchOrderDirection(order)\r\n          }\r\n          this.setState({ current, pageSize })\r\n          this.handleListChange()\r\n        }}\r\n      />\r\n    ) : (\r\n      <Empty description={'暂无内容'} />\r\n    )\r\n  }\r\n\r\n  handleOk = e => {\r\n    e.preventDefault()\r\n    const { httpPath } = this.props\r\n    const { modalFlag } = this.state\r\n    this.form &&\r\n      this.form.props.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          // 如果是新建则调用Http.put()方法,如果是编辑则调用Http.post()方法\r\n          const method =\r\n            modalFlag === 1 ? Http.put : modalFlag === 2 ? Http.post : undefined\r\n          method &&\r\n            method(`${httpPath}`, values)\r\n              .then(res => {\r\n                if (res.data.status === '00000000') {\r\n                  message.success(`操作成功`)\r\n                  this.handleListChange()\r\n                } else {\r\n                  message.error(res.data.message)\r\n                }\r\n              })\r\n              .catch(err => {\r\n                debugger\r\n                message.error(err.response.data.msg)\r\n              })\r\n          this.setState({\r\n            modalFlag: 0\r\n          })\r\n        }\r\n      })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    this.setState({\r\n      modalFlag: 0,\r\n      modalData: undefined\r\n    })\r\n  }\r\n\r\n  renderAddModal() {\r\n    const { modalFlag, modalData } = this.state\r\n    const title = `${\r\n      modalFlag === 1 ? '新建' : modalFlag === 2 ? '编辑' : undefined\r\n    }科室`\r\n    return (\r\n      <Modal\r\n        title={title}\r\n        visible={modalFlag > 0}\r\n        okText={'提交'}\r\n        cancelText={'取消'}\r\n        onOk={this.handleOk}\r\n        onCancel={this.handleCancel}\r\n      >\r\n        <WrappedNormalForm\r\n          wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n            this.form = form\r\n            if (this.form) {\r\n              if (modalFlag === 2 && modalData) {\r\n                // 编辑，设置值\r\n                this.form.props.form.setFieldsValue({ ...modalData })\r\n              } else if (modalFlag === 1) {\r\n                // 新建，清除旧值\r\n                this.form.props.form.resetFields(['id', 'name'])\r\n              }\r\n            }\r\n          }}\r\n        />\r\n      </Modal>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div className=\"list-page\">\r\n          <div className=\"list-page-content\">\r\n            <div className=\"list-page-content-toolbar\">\r\n              <div className=\"list-page-content-toolbar-search\">\r\n                {this.renderSearchBar()}\r\n              </div>\r\n              <div className=\"list-page-content-toolbar-button\">\r\n                {this.renderButtonBar()}\r\n              </div>\r\n            </div>\r\n            <div className=\"list-page-content-table\">{this.renderTable()}</div>\r\n          </div>\r\n        </div>\r\n        <div>{this.renderAddModal()}</div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nfunction fetchOrderDirection(order: string) {\r\n  if (order === 'descend') {\r\n    return 'desc'\r\n  } else {\r\n    return 'asc'\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\n// const tailFormItemLayout = {\r\n//   wrapperCol: {\r\n//     xs: {\r\n//       span: 2,\r\n//       offset: 0\r\n//     },\r\n//     sm: {\r\n//       span: 2,\r\n//       offset: 4\r\n//     }\r\n//   }\r\n// }\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'name'} label=\"名称\">\r\n          {getFieldDecorator('name', {\r\n            rules: [{ required: true, message: `请输入名称` }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalForm)\r\n","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Select,\r\n  Button,\r\n  Table,\r\n  Empty,\r\n  message,\r\n  Icon,\r\n  Modal,\r\n  Tabs,\r\n  Tooltip\r\n} from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport IAccountVO, { IDeptVO } from '../type'\r\nimport DeptList from '../../../../../common/simplelist/index'\r\nimport Http, { QueryResult, QueryRequest } from '../../../../../common/http'\r\nimport { toLine } from '../../../../../common/util'\r\nimport { manageSiderPath } from '../../index'\r\nimport './index.css'\r\n\r\nconst { Content } = Layout\r\nconst { Option } = Select\r\nconst { TabPane } = Tabs\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  deptData: Array<IDeptVO>\r\n  selectedRowKeys: string[] | number[]\r\n  /**\r\n   * 查询结果\r\n   */\r\n  data: QueryResult<IAccountVO>\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any | undefined\r\n    sorters: any | undefined\r\n  }\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      deptData: [],\r\n      selectedRowKeys: [],\r\n      data: {\r\n        total: undefined,\r\n        content: []\r\n      },\r\n      pageSize: 10,\r\n      current: 1,\r\n      param: {\r\n        conditions: {},\r\n        sorters: {}\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadDeptData()\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleListChange = () => {\r\n    this.setState({ loading: true }, () => {\r\n      const { pageSize, current, param } = this.state\r\n      const queryRequest: QueryRequest = {\r\n        pageSize,\r\n        current,\r\n        ...param\r\n      }\r\n      Http.post(`/user/list`, queryRequest)\r\n        .then(res => {\r\n          this.setState({ loading: false, data: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  loadDeptData = () => {\r\n    this.setState({ loading: true }, () => {\r\n      Http.post(`/dept/list-all`)\r\n        .then(res => {\r\n          this.setState({ loading: false, deptData: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleSelectChangeForKeyword = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['keywords'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleSelectChangeForDept = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['dept'] = { id: value }\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleDeleteOper = async (ids: Array<string> | Array<number>) => {\r\n    Modal.confirm({\r\n      title: '确定删除?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: () => {\r\n        let queryString = ''\r\n        ids.forEach(id => (queryString = queryString.concat(`ids=${id}&`)))\r\n        Http.delete(\r\n          `/user?${queryString.substring(0, queryString.length - 1)}`\r\n        ).then(res => {\r\n          debugger\r\n          if (res.data.status === '00000000') {\r\n            message.success('删除成功')\r\n            this.handleListChange()\r\n          } else {\r\n            message.error(res.data.message)\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  // renderAside() {\r\n  //   const { deptData } = this.state\r\n  //   const treeData =\r\n  //     deptData.length > 1\r\n  //       ? deptData.map(dept => ({ title: dept['name'], key: dept['id'] }))\r\n  //       : undefined\r\n  //   return (\r\n  //     <div>\r\n  //       <div className=\"layout-content-aside-wrapper\">\r\n  //         <div className=\"layout-content-aside-wrapper-search\">\r\n  //           <Select\r\n  //             mode=\"default\"\r\n  //             placeholder={'搜索科室'}\r\n  //             style={{ width: '100%' }}\r\n  //             showArrow={false}\r\n  //             showSearch\r\n  //           />\r\n  //         </div>\r\n  //         <div className=\"layout-content-aside-wrapper-btn\">\r\n  //           <Button\r\n  //             type=\"primary\"\r\n  //             onClick={event => {\r\n  //               event.preventDefault()\r\n  //               this.props.history.push(`${manageSiderPath}/add`)\r\n  //             }}\r\n  //           >\r\n  //             新建\r\n  //           </Button>\r\n  //         </div>\r\n  //       </div>\r\n  //       <Tree treeData={treeData} showLine />\r\n  //     </div>\r\n  //   )\r\n  // }\r\n\r\n  renderKeywordSearchBar() {\r\n    return (\r\n      <Select\r\n        mode={'tags'}\r\n        placeholder={'请输入用户名、手机号或邮箱'}\r\n        style={{ width: '280px', marginRight: '24px' }}\r\n        tokenSeparators={[' ']}\r\n        showArrow={true}\r\n        suffixIcon={<Icon style={{ fontSize: '16px' }} type=\"search\" />}\r\n        onChange={this.handleSelectChangeForKeyword}\r\n        notFoundContent={null}\r\n      />\r\n    )\r\n  }\r\n\r\n  renderDeptSearchBar() {\r\n    const { deptData } = this.state\r\n    return (\r\n      <span>\r\n        <label>所属科室：</label>\r\n        <Select\r\n          placeholder={'请选择'}\r\n          style={{ width: '280px' }}\r\n          allowClear\r\n          showArrow={true}\r\n          onChange={this.handleSelectChangeForDept}\r\n        >\r\n          {deptData.map(dept => (\r\n            <Option value={dept.id}>{dept.name}</Option>\r\n          ))}\r\n        </Select>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  renderButtonBar() {\r\n    const { selectedRowKeys } = this.state\r\n    return (\r\n      <div>\r\n        <Button\r\n          className=\"ele-operation\"\r\n          type=\"primary\"\r\n          onClick={event => {\r\n            event.preventDefault()\r\n            this.props.history.push(`${manageSiderPath}/add`)\r\n          }}\r\n        >\r\n          新建\r\n        </Button>\r\n        <Button\r\n          type=\"ghost\"\r\n          disabled={selectedRowKeys.length < 1}\r\n          onClick={() => {\r\n            this.handleDeleteOper(selectedRowKeys)\r\n          }}\r\n        >\r\n          批量删除\r\n        </Button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  buildColumns() {\r\n    const columns = [\r\n      {\r\n        title: '序号',\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n          return index + 1\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '5%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '用户名',\r\n        dataIndex: 'username',\r\n        key: 'username',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '手机',\r\n        dataIndex: 'phone',\r\n        key: 'phone',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '16%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '邮箱',\r\n        dataIndex: 'email',\r\n        key: 'email',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '20%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '科室',\r\n        dataIndex: 'dept',\r\n        key: 'dept',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '10%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: 'center',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            whiteSpace: 'nowrap',\r\n            cursor: 'pointer'\r\n          }\r\n        }),\r\n        render: text => (\r\n          <Tooltip placement=\"topLeft\" title={text ? text.name : ''}>\r\n            {text ? text.name : ''}\r\n          </Tooltip>\r\n        )\r\n      },\r\n      {\r\n        title: '冻结状态',\r\n        dataIndex: 'frozen',\r\n        key: 'frozen',\r\n        render: (text, record, index) => {\r\n          return record.frozen ? '已冻结' : '正常'\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '6%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '创建时间',\r\n        dataIndex: 'createTime',\r\n        key: 'createTime',\r\n        render: (text, record, index) => {\r\n          return moment(record.createTime).format('YYYY-MM-DD HH:mm:ss')\r\n        },\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '15%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'operation',\r\n        render: (text, record, index) => {\r\n          return (\r\n            <div>\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={'编辑'}\r\n                type=\"edit\"\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  this.props.history.push(\r\n                    `${manageSiderPath}/edit/${record.id}`\r\n                  )\r\n                }}\r\n              />\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={record.frozen ? '解冻' : '冻结'}\r\n                type={record.frozen ? 'lock' : 'unlock'}\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  const operation = record.frozen ? 'unfreeze' : 'freeze'\r\n                  Http.post(`/user/${operation}`, { ids: [record.id] })\r\n                    .then(res => {\r\n                      message.success(`${record.frozen ? '解冻' : '冻结'}成功`)\r\n                      this.handleListChange()\r\n                    })\r\n                    .catch(err => {\r\n                      this.handleListChange()\r\n                    })\r\n                }}\r\n              />\r\n              <div id=\"downloadDiv\" style={{ display: 'none' }} />\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={'删除'}\r\n                type=\"delete\"\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  this.handleDeleteOper([record.id])\r\n                }}\r\n              />\r\n            </div>\r\n          )\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '12%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      }\r\n    ]\r\n    return columns\r\n  }\r\n\r\n  renderTable() {\r\n    const { loading, selectedRowKeys, data, pageSize, current } = this.state\r\n    const { total, content } = data\r\n    return loading || data.content.length > 0 ? (\r\n      <Table\r\n        rowKey={record => {\r\n          return record.id\r\n        }}\r\n        rowSelection={{\r\n          columnWidth: '30px',\r\n          selectedRowKeys,\r\n          onChange: selectedRowKeys => {\r\n            this.setState({ selectedRowKeys })\r\n          }\r\n        }}\r\n        columns={this.buildColumns()}\r\n        dataSource={content}\r\n        loading={loading}\r\n        onRow={(record, index) => {\r\n          return {\r\n            onClick: event => {\r\n              event.preventDefault()\r\n              if (event.target['tagName'] !== 'TD') {\r\n                return\r\n              }\r\n              this.props.history.push(`${manageSiderPath}/view/${record.id}`)\r\n            }\r\n          }\r\n        }}\r\n        // size={'middle'}\r\n        pagination={{\r\n          total,\r\n          current,\r\n          pageSize,\r\n          pageSizeOptions: ['10', '20', '50'],\r\n          showSizeChanger: true,\r\n          showTotal: total => {\r\n            return `共 ${total} 条`\r\n          }\r\n        }}\r\n        onChange={(pagination, filters, sorter, extra) => {\r\n          const { param } = this.state\r\n          const { current, pageSize } = pagination\r\n          const { field, order } = sorter\r\n          param.sorters = {}\r\n          if (field && order) {\r\n            param.sorters[toLine(field)] = fetchOrderDirection(order)\r\n          }\r\n          this.setState({ current, pageSize })\r\n          this.handleListChange()\r\n        }}\r\n      />\r\n    ) : (\r\n      <Empty description={'暂无内容'} />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div className=\"list-page\">\r\n          <div className=\"list-page-content\">\r\n            <Tabs defaultActiveKey=\"account\" onChange={() => {}}>\r\n              <TabPane tab=\"科室\" key=\"dept\">\r\n                <DeptList httpPath={`/dept`} modelName={'科室'} />\r\n              </TabPane>\r\n              <TabPane tab=\"账号\" key=\"account\">\r\n                <div className=\"list-page-content-toolbar\">\r\n                  <div className=\"list-page-content-toolbar-search\">\r\n                    {this.renderKeywordSearchBar()}\r\n                    {this.renderDeptSearchBar()}\r\n                  </div>\r\n                  <div className=\"list-page-content-toolbar-button\">\r\n                    {this.renderButtonBar()}\r\n                  </div>\r\n                </div>\r\n                <div className=\"list-page-content-table\">\r\n                  {this.renderTable()}\r\n                </div>\r\n              </TabPane>\r\n            </Tabs>\r\n          </div>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nfunction fetchOrderDirection(order: string) {\r\n  if (order === 'descend') {\r\n    return 'desc'\r\n  } else {\r\n    return 'asc'\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n","import React from 'react'\r\nimport { Layout, Button, Form, Spin, Tree } from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport IAccountVO from '../../../user/manage/type'\r\nimport Http from '../../../../../common/http'\r\nimport { manageSiderPath } from '../../index'\r\n\r\nconst { Content } = Layout\r\nconst { TreeNode } = Tree\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\n// const tailFormItemLayout = {\r\n//   wrapperCol: {\r\n//     xs: {\r\n//       span: 2,\r\n//       offset: 0\r\n//     },\r\n//     sm: {\r\n//       span: 2,\r\n//       offset: 4\r\n//     }\r\n//   }\r\n// }\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  data: IAccountVO | undefined\r\n}\r\n\r\nclass View extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      data: undefined\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    this.setState({ loading: true }, () => {\r\n      Http.get(`/user?id=${id}`)\r\n        .then(res => {\r\n          const data = res.data.data\r\n          this.setState({ loading: false, data })\r\n        })\r\n        .catch(error => {})\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${manageSiderPath}/list`)\r\n  }\r\n\r\n  renderContent() {\r\n    const { loading, data } = this.state\r\n    return !loading && data ? (\r\n      <Form {...formItemLayout}>\r\n        <Form.Item key={'username'} label=\"用户名\">\r\n          {data.username}\r\n        </Form.Item>\r\n        <Form.Item key={'phone'} label=\"手机\">\r\n          {data.phone}\r\n        </Form.Item>\r\n        <Form.Item key={'email'} label=\"邮箱\">\r\n          {data.email}\r\n        </Form.Item>\r\n        <Form.Item key={'dept'} label=\"科室\">\r\n          {data.dept && data.dept.name}\r\n        </Form.Item>\r\n        <Form.Item key={'permissions'} label=\"账号授权\">\r\n          <Tree showLine defaultExpandAll>\r\n            {data.permissions.map(perm => (\r\n              <TreeNode title={perm.name} />\r\n            ))}\r\n          </Tree>\r\n        </Form.Item>\r\n      </Form>\r\n    ) : (\r\n      <Spin size={'large'} />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ margin: '4px', flex: 1 }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button\r\n                className={'ele-operation'}\r\n                type={'primary'}\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  this.props.history.push(`${manageSiderPath}/edit/${id}`)\r\n                }}\r\n              >\r\n                编辑\r\n              </Button>\r\n              <Button type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>{this.renderContent()}</div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(View)\r\n","import React from 'react'\r\nimport './index.css'\r\nimport { Breadcrumb } from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport { manageSiderPath } from '../index'\r\nimport AddCmpt from './add'\r\nimport EditCmpt from './edit'\r\nimport ListCmpt from './list'\r\nimport ViewCmpt from './view'\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Manage extends React.Component<IProps, IState> {\r\n  render() {\r\n    const path = this.props.location.pathname\r\n    let curItem\r\n    if (path.indexOf(`${manageSiderPath}/add`) >= 0) {\r\n      curItem = '新增'\r\n    } else if (path.indexOf(`${manageSiderPath}/edit`) >= 0) {\r\n      curItem = '编辑'\r\n    } else if (path.indexOf(`${manageSiderPath}/view`) >= 0) {\r\n      curItem = '详情'\r\n    } else if (path.indexOf(`${manageSiderPath}/list`) >= 0) {\r\n      curItem = '查询'\r\n    }\r\n\r\n    return (\r\n      <div className=\"layout-content\">\r\n        <div className=\"layout-content-inner\">\r\n          <Breadcrumb>\r\n            <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n            <Breadcrumb.Item>账号与安全</Breadcrumb.Item>\r\n            <Breadcrumb.Item\r\n              onClick={() => this.props.history.push(`${manageSiderPath}`)}\r\n            >\r\n              账号管理\r\n            </Breadcrumb.Item>\r\n            <Breadcrumb.Item>{curItem}</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n          <HashRouter>\r\n            <Switch>\r\n              <Redirect\r\n                path={`${manageSiderPath}`}\r\n                exact={true}\r\n                to={`${manageSiderPath}/list`}\r\n              />\r\n              <Route path={`${manageSiderPath}/list`} component={ListCmpt} />\r\n              <Route path={`${manageSiderPath}/add`} component={AddCmpt} />\r\n              <Route\r\n                path={`${manageSiderPath}/edit/:id`}\r\n                component={EditCmpt}\r\n              />\r\n              <Route\r\n                path={`${manageSiderPath}/view/:id`}\r\n                component={ViewCmpt}\r\n              />\r\n            </Switch>\r\n          </HashRouter>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Manage)\r\n","import React from 'react'\r\n\r\nclass Authority extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"layout-content\">\r\n        <div className=\"layout-content-aside\"></div>\r\n        <div className=\"layout-content-inner\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Authority\r\n","import React from 'react'\r\nimport './index.css'\r\nimport { Layout, Menu, Icon } from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Route,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport Manage from './manage'\r\nimport Authority from './authority'\r\n\r\nexport const modulePath = `/main/user`\r\nexport const manageSiderPath = `${modulePath}/manage`\r\nexport const authoritySiderPath = `${modulePath}/authority`\r\n\r\nconst { Sider } = Layout\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  collapsed: boolean\r\n  selectedKeys: Array<string>\r\n}\r\n\r\nclass UserSider extends React.Component<IProps, IState> {\r\n  state: IState = {\r\n    collapsed: false,\r\n    selectedKeys: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    const defaultSelectedKey = '/manage'\r\n    this.handleOnSelect({ key: defaultSelectedKey })\r\n  }\r\n\r\n  handleOnSelect = param => {\r\n    const { key } = param\r\n    this.setState({ selectedKeys: [key] })\r\n    this.props.history.push(`${modulePath}${key}`)\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { selectedKeys } = this.state\r\n    return (\r\n      <Layout>\r\n        <Sider\r\n          width={180}\r\n          theme=\"dark\"\r\n          collapsed={this.state.collapsed}\r\n          collapsedWidth={80}\r\n        >\r\n          <span className=\"aside-top\" onClick={this.toggleCollapsed}>\r\n            <Icon\r\n              style={{ margin: '0 0 0 10px' }}\r\n              type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\r\n            />\r\n          </span>\r\n          <Menu\r\n            selectedKeys={selectedKeys}\r\n            mode=\"inline\"\r\n            theme=\"dark\"\r\n            onSelect={this.handleOnSelect}\r\n          >\r\n            <Menu.Item className=\"aside-item\" key=\"/manage\">\r\n              <Icon type=\"solution\" />\r\n              <span>账号管理</span>\r\n            </Menu.Item>\r\n            <Menu.Item className=\"aside-item\" key=\"/authority\">\r\n              <Icon type=\"safety-certificate\" />\r\n              <span>授权查询</span>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout>\r\n          <HashRouter>\r\n            <Switch>\r\n              <Route path={`${modulePath}/manage`} component={Manage} />\r\n              <Route path={`${modulePath}/authority`} component={Authority} />\r\n            </Switch>\r\n          </HashRouter>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(UserSider)\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport { Result } from 'antd'\r\nimport { UserContext } from '../../home/index'\r\n\r\n// 这个组件将根据登录的情况, 返回一个路由\r\nconst PrivateRoute = ({ component: Component, ...props }) => {\r\n  // 解构赋值 将 props 里面的 component 赋值给 Component\r\n  return (\r\n    <UserContext.Consumer>\r\n      {userInfo => {\r\n        const needPerms = props['permission']\r\n        const userPerms = userInfo['permissions']\r\n        const perm = needPerms\r\n          ? userPerms.find(userPerm => {\r\n              if (needPerms instanceof Array) {\r\n                return needPerms.find(needPerm => userPerm.id === needPerm)\r\n              } else {\r\n                return userPerm.id === needPerms\r\n              }\r\n            })\r\n          : 'true'\r\n        return (\r\n          <Route\r\n            {...props}\r\n            render={p => {\r\n              const userId = sessionStorage.getItem('userId')\r\n              if (userId) {\r\n                // 如果登录了, 返回正确的路由\r\n                return perm ? (\r\n                  <Component />\r\n                ) : (\r\n                  <Result\r\n                    style={{ width: '100%', height: '100%' }}\r\n                    status=\"403\"\r\n                    title=\"403\"\r\n                    subTitle=\"没有访问权限\"\r\n                  />\r\n                )\r\n              } else {\r\n                // 没有登录就重定向至登录页面\r\n                return (\r\n                  <Redirect\r\n                    to={{\r\n                      pathname: '/login',\r\n                      state: {\r\n                        from: p.location.pathname\r\n                      }\r\n                    }}\r\n                  />\r\n                )\r\n              }\r\n            }}\r\n          />\r\n        )\r\n      }}\r\n    </UserContext.Consumer>\r\n  )\r\n}\r\nexport default PrivateRoute\r\n","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Select,\r\n  Button,\r\n  Table,\r\n  Empty,\r\n  message,\r\n  Icon,\r\n  Modal,\r\n  Tooltip\r\n} from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport IDocmVO from '../type'\r\nimport { IDeptVO } from '../../user/manage/type'\r\nimport Http, {\r\n  QueryResult,\r\n  QueryRequest,\r\n  serverPath\r\n} from '../../../../common/http'\r\nimport { modulePath } from '../index'\r\nimport { toLine } from '../../../../common/util'\r\nimport { UserContext } from '../../../index'\r\nimport './index.css'\r\n\r\nconst { Content } = Layout\r\nconst { Option } = Select\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  selectedRowKeys: string[] | number[]\r\n  /**\r\n   * 项目类型下拉选数据\r\n   */\r\n  projectTypes: Array<string>\r\n  /**\r\n   * 查询结果\r\n   */\r\n  data: QueryResult<IDocmVO>\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any | undefined\r\n    sorters: any | undefined\r\n  }\r\n  deptData: Array<IDeptVO>\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      selectedRowKeys: [],\r\n      projectTypes: [],\r\n      data: {\r\n        total: undefined,\r\n        content: []\r\n      },\r\n      pageSize: 10,\r\n      current: 1,\r\n      param: {\r\n        conditions: {},\r\n        sorters: {}\r\n      },\r\n      deptData: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loadProjectTypes()\r\n    this.loadDeptData()\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleListChange = () => {\r\n    this.setState({ loading: true }, () => {\r\n      const { pageSize, current, param } = this.state\r\n      const queryRequest: QueryRequest = {\r\n        pageSize,\r\n        current,\r\n        ...param\r\n      }\r\n      Http.post('/docm/list', queryRequest)\r\n        .then(res => {\r\n          this.setState({ loading: false, data: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  loadProjectTypes = () => {\r\n    Http.get(`/docm/type/list`)\r\n      .then(res => {\r\n        this.setState({ projectTypes: res.data.data })\r\n      })\r\n      .catch(err => {\r\n        message.error('加载项目类型数据失败')\r\n      })\r\n  }\r\n\r\n  loadDeptData = () => {\r\n    this.setState({ loading: true }, () => {\r\n      Http.post(`/dept/list-all`)\r\n        .then(res => {\r\n          this.setState({ loading: false, deptData: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleSelectChangeForKeyword = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['keywords'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleSelectChangeForProjectType = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['projectType'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleSelectChangeForDept = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['dept'] = { id: value }\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleDeleteOper = async (ids: Array<string> | Array<number>) => {\r\n    Modal.confirm({\r\n      title: '确定删除?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: async () => {\r\n        let queryString = ''\r\n        ids.forEach(id => (queryString = queryString.concat(`ids=${id}&`)))\r\n        await Http.delete(\r\n          `/docm?${queryString.substring(0, queryString.length - 1)}`\r\n        )\r\n        message.success('删除成功')\r\n        this.handleListChange()\r\n      }\r\n    })\r\n  }\r\n\r\n  renderKeywordSearchBar() {\r\n    return (\r\n      <Select\r\n        mode={'tags'}\r\n        placeholder={'搜索合同名称或公司名称关键字'}\r\n        style={{ width: '280px', marginRight: '24px' }}\r\n        tokenSeparators={[' ']}\r\n        showArrow={true}\r\n        suffixIcon={<Icon style={{ fontSize: '16px' }} type=\"search\" />}\r\n        onChange={this.handleSelectChangeForKeyword}\r\n        notFoundContent={null}\r\n      />\r\n    )\r\n  }\r\n\r\n  renderProjectTypeSearchBar() {\r\n    const { projectTypes } = this.state\r\n    return (\r\n      <span>\r\n        <label>合同类型：</label>\r\n        <Select\r\n          placeholder={'请选择合同类型'}\r\n          style={{ width: '280px', marginRight: '24px' }}\r\n          allowClear\r\n          showArrow={true}\r\n          onChange={this.handleSelectChangeForProjectType}\r\n          notFoundContent={'暂无数据'}\r\n        >\r\n          {projectTypes.map(pType => (\r\n            <Option value={pType}>{pType}</Option>\r\n          ))}\r\n        </Select>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  renderDeptSearchBar() {\r\n    const { deptData } = this.state\r\n    return (\r\n      <span>\r\n        <label>所属科室：</label>\r\n        <Select\r\n          placeholder={'请选择'}\r\n          style={{ width: '280px', marginRight: '24px' }}\r\n          allowClear\r\n          showArrow={true}\r\n          onChange={this.handleSelectChangeForDept}\r\n        >\r\n          {deptData.map(dept => (\r\n            <Option value={dept.id}>{dept.name}</Option>\r\n          ))}\r\n        </Select>\r\n      </span>\r\n    )\r\n  }\r\n\r\n  renderButtonBar() {\r\n    const { selectedRowKeys } = this.state\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const DOCM_ADD_OPER_permission = userInfo['permissions'].find(\r\n            perm => perm.id === 'DOCM_ADD_OPER'\r\n          )\r\n          const DOCM_DELETE_OPER_permission = userInfo['permissions'].find(\r\n            perm => perm.id === 'DOCM_DELETE_OPER'\r\n          )\r\n          return (\r\n            <div style={{ margin: '4px', flex: 1 }}>\r\n              <span style={{ float: 'right' }}>\r\n                {DOCM_ADD_OPER_permission && (\r\n                  <Button\r\n                    className=\"ele-operation\"\r\n                    type=\"primary\"\r\n                    onClick={() => {\r\n                      this.props.history.push(`${modulePath}/add`)\r\n                    }}\r\n                  >\r\n                    新建\r\n                  </Button>\r\n                )}\r\n                {DOCM_DELETE_OPER_permission && (\r\n                  <Button\r\n                    type=\"ghost\"\r\n                    disabled={selectedRowKeys.length < 1}\r\n                    onClick={() => {\r\n                      this.handleDeleteOper(selectedRowKeys)\r\n                    }}\r\n                  >\r\n                    批量删除\r\n                  </Button>\r\n                )}\r\n              </span>\r\n            </div>\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n\r\n  buildColumns() {\r\n    const columns = [\r\n      {\r\n        title: '序号',\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n          return index + 1\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '5%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '合同名称',\r\n        dataIndex: 'projectName',\r\n        key: 'projectName',\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: 'center',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            whiteSpace: 'nowrap',\r\n            cursor: 'pointer'\r\n          }\r\n        }),\r\n        render: text => (\r\n          <Tooltip placement=\"topLeft\" title={text}>\r\n            {text}\r\n          </Tooltip>\r\n        )\r\n      },\r\n      {\r\n        title: '合同类型',\r\n        dataIndex: 'projectType',\r\n        key: 'projectType',\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '10%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: 'center',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            whiteSpace: 'nowrap',\r\n            cursor: 'pointer'\r\n          }\r\n        }),\r\n        render: text => (\r\n          <Tooltip placement=\"topLeft\" title={text}>\r\n            {text}\r\n          </Tooltip>\r\n        )\r\n      },\r\n      {\r\n        title: '公司名称',\r\n        dataIndex: 'company',\r\n        key: 'company',\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '10%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: 'center',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            whiteSpace: 'nowrap',\r\n            cursor: 'pointer'\r\n          }\r\n        }),\r\n        render: text => (\r\n          <Tooltip placement=\"topLeft\" title={text}>\r\n            {text}\r\n          </Tooltip>\r\n        )\r\n      },\r\n      {\r\n        title: '合同号',\r\n        dataIndex: 'contractNum',\r\n        key: 'contractNum',\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '10%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: 'center',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            whiteSpace: 'nowrap',\r\n            cursor: 'pointer'\r\n          }\r\n        }),\r\n        render: text => (\r\n          <Tooltip placement=\"topLeft\" title={text}>\r\n            {text}\r\n          </Tooltip>\r\n        )\r\n      },\r\n      {\r\n        title: '科室',\r\n        dataIndex: 'dept',\r\n        key: 'dept',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '6%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({\r\n          style: {\r\n            textAlign: 'center',\r\n            overflow: 'hidden',\r\n            textOverflow: 'ellipsis',\r\n            whiteSpace: 'nowrap',\r\n            cursor: 'pointer'\r\n          }\r\n        }),\r\n        render: text => (\r\n          <Tooltip placement=\"topLeft\" title={text ? text.name : ''}>\r\n            {text ? text.name : ''}\r\n          </Tooltip>\r\n        )\r\n      },\r\n      {\r\n        title: '合同签订时间',\r\n        dataIndex: 'contractTime',\r\n        key: 'contractTime',\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '10%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '凭证时间',\r\n        dataIndex: 'credentialTime',\r\n        key: 'credentialTime',\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '8%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '创建时间',\r\n        dataIndex: 'createTime',\r\n        key: 'createTime',\r\n        render: (text, record, index) => {\r\n          return moment(record.createTime).format('YYYY-MM-DD HH:mm:ss')\r\n        },\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '12%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'operation',\r\n        render: (text, record, index) => {\r\n          return (\r\n            <UserContext.Consumer>\r\n              {userInfo => {\r\n                const DOCM_EDIT_OPER_permission = userInfo['permissions'].find(\r\n                  perm => perm.id === 'DOCM_EDIT_OPER'\r\n                )\r\n                const DOCM_DELETE_OPER_permission = userInfo[\r\n                  'permissions'\r\n                ].find(perm => perm.id === 'DOCM_DELETE_OPER')\r\n                const DOCM_DOWNLOAD_OPER_permission = userInfo[\r\n                  'permissions'\r\n                ].find(perm => perm.id === 'DOCM_DOWNLOAD_OPER')\r\n                return (\r\n                  <div>\r\n                    {DOCM_EDIT_OPER_permission && (\r\n                      <Icon\r\n                        style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                        title={'编辑'}\r\n                        type=\"edit\"\r\n                        onClick={event => {\r\n                          event.preventDefault()\r\n                          this.props.history.push(\r\n                            `${modulePath}/edit/${record.id}`\r\n                          )\r\n                        }}\r\n                      />\r\n                    )}\r\n                    {DOCM_DOWNLOAD_OPER_permission && (\r\n                      <Icon\r\n                        style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                        title={'下载'}\r\n                        type=\"download\"\r\n                        onClick={event => {\r\n                          event.preventDefault()\r\n                          const url = `${serverPath}/doc?id=${record.id}`\r\n                          const aElement = document.createElement('a')\r\n                          aElement.href = url\r\n                          aElement.target = '_blank'\r\n                          aElement.click()\r\n                          window.URL.revokeObjectURL(url)\r\n                        }}\r\n                      />\r\n                    )}\r\n                    <div id=\"downloadDiv\" style={{ display: 'none' }} />\r\n                    {DOCM_DELETE_OPER_permission && (\r\n                      <Icon\r\n                        style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                        title={'删除'}\r\n                        type=\"delete\"\r\n                        onClick={() => this.handleDeleteOper([record.id])}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                )\r\n              }}\r\n            </UserContext.Consumer>\r\n          )\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '12%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      }\r\n    ]\r\n    return columns\r\n  }\r\n\r\n  renderTable() {\r\n    const { loading, data, pageSize, current, selectedRowKeys } = this.state\r\n    const { total, content } = data\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const DOCM_DELETE_OPER_permission = userInfo['permissions'].find(\r\n            perm => perm.id === 'DOCM_DELETE_OPER'\r\n          )\r\n          const rowSelection = DOCM_DELETE_OPER_permission\r\n            ? {\r\n                columnWidth: '30px',\r\n                selectedRowKeys,\r\n                onChange: selectedRowKeys => {\r\n                  this.setState({ selectedRowKeys })\r\n                }\r\n              }\r\n            : undefined\r\n          return loading || data.content.length > 0 ? (\r\n            <Table\r\n              rowKey={record => {\r\n                return record.id\r\n              }}\r\n              rowSelection={rowSelection}\r\n              columns={this.buildColumns()}\r\n              dataSource={content}\r\n              loading={loading}\r\n              onRow={(record, index) => {\r\n                return {\r\n                  onClick: event => {\r\n                    if (event.target['tagName'] !== 'TD') {\r\n                      return\r\n                    }\r\n                    this.props.history.push(`${modulePath}/view/${record.id}`)\r\n                  }\r\n                }\r\n              }}\r\n              // size={'middle'}\r\n              pagination={{\r\n                total,\r\n                current,\r\n                pageSize,\r\n                pageSizeOptions: ['10', '20', '50'],\r\n                showSizeChanger: true,\r\n                onShowSizeChange: (current, pageSize) => {\r\n                  this.setState({ current: 1, pageSize })\r\n                },\r\n                showTotal: total => {\r\n                  return `共 ${total} 条`\r\n                }\r\n              }}\r\n              onChange={(pagination, filters, sorter, extra) => {\r\n                const { param } = this.state\r\n                const { current, pageSize } = pagination\r\n                const { field, order } = sorter\r\n                param.sorters = {}\r\n                if (field && order) {\r\n                  param.sorters[toLine(field)] = fetchOrderDirection(order)\r\n                }\r\n                this.setState({ current, pageSize })\r\n                this.handleListChange()\r\n              }}\r\n            />\r\n          ) : (\r\n            <Empty description={'暂无内容'} />\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div className=\"list-page\">\r\n          <div className=\"list-page-content\">\r\n            <div className=\"list-page-content-toolbar\">\r\n              <div className=\"list-page-content-toolbar-search\">\r\n                {this.renderKeywordSearchBar()}\r\n                {this.renderProjectTypeSearchBar()}\r\n                {this.renderDeptSearchBar()}\r\n              </div>\r\n              <div className=\"list-page-content-toolbar-button\">\r\n                {this.renderButtonBar()}\r\n              </div>\r\n            </div>\r\n            <div className=\"list-page-content-table\">{this.renderTable()}</div>\r\n          </div>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nfunction fetchOrderDirection(order: string) {\r\n  if (order === 'descend') {\r\n    return 'desc'\r\n  } else {\r\n    return 'asc'\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  Icon,\r\n  Upload,\r\n  DatePicker,\r\n  message,\r\n  Select\r\n} from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { UploadFile } from 'antd/lib/upload/interface'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport IDocmVO from '../type'\r\nimport Http, { serverPath } from '../../../../common/http'\r\nimport { modulePath } from '../index'\r\n\r\nconst { Content } = Layout\r\nconst { MonthPicker } = DatePicker\r\nconst { Option } = Select\r\n\r\ntype IProps = RouteComponentProps & {\r\n  username: string\r\n}\r\n\r\ninterface IState {\r\n  mode: 'edit' | 'add' | undefined\r\n  loading: boolean\r\n  data: IDocmVO | undefined\r\n  fileList: Array<UploadFile>\r\n  deptData: Array<any>\r\n  selectedDept: any\r\n}\r\n\r\nclass Edit extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      mode: undefined,\r\n      loading: true,\r\n      data: undefined,\r\n      fileList: [],\r\n      deptData: [],\r\n      selectedDept: undefined\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    const mode = id ? 'edit' : 'add'\r\n    this.setState({ mode, loading: true }, () => {\r\n      if (mode === 'edit') {\r\n        Http.get(`/docm?id=${id}`)\r\n          .then(res => {\r\n            const data = res.data.data\r\n            this.form &&\r\n              this.form.props.form.setFieldsValue({\r\n                ...data,\r\n                contractTime: data.contractTime\r\n                  ? moment(data.contractTime, 'YYYY-MM-DD')\r\n                  : undefined,\r\n                credentialTime: data.credentialTime\r\n                  ? moment(data.credentialTime, 'YYYY-MM')\r\n                  : undefined\r\n              })\r\n            // 附件\r\n            const fileList = data.attachments.map(attachment => ({\r\n              uid: attachment.id,\r\n              size: 123,\r\n              name: attachment.docName,\r\n              type: 'image',\r\n              status: 'done',\r\n              response: {\r\n                status: '00000000',\r\n                data: [\r\n                  {\r\n                    docName: attachment.docName,\r\n                    docPath: attachment.docPath\r\n                  }\r\n                ]\r\n              }\r\n            }))\r\n            this.setState({\r\n              loading: false,\r\n              data,\r\n              fileList,\r\n              selectedDept: data.dept\r\n            })\r\n          })\r\n          .catch(error => {})\r\n      } else if (mode === 'add') {\r\n        this.form && this.form.props.form.setFieldsValue({ attachments: [] })\r\n        this.setState({ loading: false })\r\n      }\r\n      // 加载科室下拉选择器数据\r\n      Http.post(`/dept/list-all`)\r\n        .then(res => {\r\n          this.setState({ deptData: res.data.data })\r\n        })\r\n        .catch(err => {})\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${modulePath}/list`)\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields((err, values) => {\r\n        if (!err) {\r\n          const params: IDocmVO = {\r\n            ...values,\r\n            contractTime: values['contractTime']\r\n              ? values['contractTime'].format('YYYY-MM-DD')\r\n              : undefined,\r\n            credentialTime: values['credentialTime']\r\n              ? values['credentialTime'].format('YYYY-MM')\r\n              : undefined\r\n          }\r\n          const { mode } = this.state\r\n          const method =\r\n            mode === 'add' ? Http.put : mode === 'edit' ? Http.post : undefined\r\n          method &&\r\n            method(`/docm`, params)\r\n              .then(res => {\r\n                if (res.data.status === '00000000') {\r\n                  this.props.history.push(`${modulePath}/list`)\r\n                } else {\r\n                  message.error(res.data.message)\r\n                }\r\n              })\r\n              .catch(err => {\r\n                message.info(err.response.data.msg)\r\n              })\r\n        }\r\n      })\r\n  }\r\n\r\n  handleDeptOnChange = id => {\r\n    const dept = { id }\r\n    this.form &&\r\n      this.form.props.form.setFieldsValue({\r\n        dept\r\n      })\r\n    this.setState({ selectedDept: dept })\r\n  }\r\n\r\n  renderContent() {\r\n    const { mode, fileList, deptData, selectedDept } = this.state\r\n    const setFieldsValue = this.form\r\n      ? this.form.props.form.setFieldsValue\r\n      : undefined\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        <Form.Item key={'dept'} label=\"所属科室\">\r\n          <Select\r\n            style={{ width: '100%' }}\r\n            placeholder={'请选择'}\r\n            value={selectedDept ? selectedDept.id : undefined}\r\n            showSearch\r\n            allowClear\r\n            optionFilterProp=\"children\"\r\n            filterOption={(input, option: any) =>\r\n              option.props.children\r\n                .toLowerCase()\r\n                .indexOf(input.toLowerCase()) >= 0\r\n            }\r\n            onChange={this.handleDeptOnChange}\r\n          >\r\n            {deptData.map(dept => (\r\n              <Option key={dept.id} value={dept.id}>\r\n                {dept.name}\r\n              </Option>\r\n            ))}\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item key={'files'} label=\"上传附件\">\r\n          <Upload\r\n            style={{ width: '100%' }}\r\n            name=\"files\"\r\n            action={`${serverPath}/doc`}\r\n            listType={'picture'}\r\n            multiple={false}\r\n            fileList={fileList}\r\n            onChange={info => {\r\n              const { fileList } = info\r\n              const attachments = fileList\r\n                .filter(file => {\r\n                  return file.status === 'done'\r\n                })\r\n                .map(file => {\r\n                  return {\r\n                    docName: file.response.data[0]['docName'],\r\n                    docPath: file.response.data[0]['docPath']\r\n                  }\r\n                })\r\n              setFieldsValue && setFieldsValue({ attachments })\r\n              this.setState({ fileList })\r\n            }}\r\n          >\r\n            <Button block>\r\n              <Icon type=\"upload\" /> 请选择\r\n            </Button>\r\n          </Upload>\r\n        </Form.Item>\r\n        <Form.Item {...tailFormItemLayout} key={'submit'}>\r\n          <Button block type={'primary'} onClick={this.handleSubmit}>\r\n            {mode === 'add' ? '提交' : '保存'}\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ margin: '4px', flex: 1 }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>\r\n          <WrappedNormalForm\r\n            wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n              this.form = form\r\n            }}\r\n          />\r\n          {this.renderContent()}\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Edit)\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 2,\r\n      offset: 0\r\n    },\r\n    sm: {\r\n      span: 2,\r\n      offset: 4\r\n    }\r\n  }\r\n}\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'projectName'} label=\"合同名称\">\r\n          {getFieldDecorator('projectName', {\r\n            rules: [{ required: true, message: '请输入合同名称' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'projectType'} label=\"合同类型\">\r\n          {getFieldDecorator('projectType', {\r\n            rules: [{ required: false, message: '请输入合同类型' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'company'} label=\"公司名称\">\r\n          {getFieldDecorator('company', {\r\n            rules: [{ required: false, message: '请输入公司名称' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'contractNum'} label=\"合同号\">\r\n          {getFieldDecorator('contractNum', {\r\n            rules: [{ required: false, message: '请输入合同号' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'contractTime'} label=\"合同签订时间\">\r\n          {getFieldDecorator('contractTime', {\r\n            rules: [{ required: false, message: '请输入合同签订时间' }]\r\n          })(<DatePicker format={'YYYY-MM-DD'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'credentialNum'} label=\"凭证号\">\r\n          {getFieldDecorator('credentialNum', {\r\n            rules: [{ required: false, message: '请输入凭证号' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'credentialTime'} label=\"凭证时间\">\r\n          {getFieldDecorator('credentialTime', {\r\n            rules: [{ required: false, message: '请输入凭证时间' }]\r\n          })(<MonthPicker format={'YYYY-MM'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'money'} label=\"金额\">\r\n          {getFieldDecorator('money', {\r\n            rules: [{ required: false, message: '请输入金额' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        {/** 所属科室 */}\r\n        {getFieldDecorator('dept')}\r\n        {/* 上传附件 */}\r\n        {getFieldDecorator('attachments')}\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalForm)\r\n","import React from 'react'\r\nimport { Layout, Button, Form, Spin, Upload } from 'antd'\r\nimport { UploadFile } from 'antd/lib/upload/interface'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport IDocmVO from '../type'\r\nimport Http, { serverPath } from '../../../../common/http'\r\nimport { modulePath } from '../index'\r\n\r\nconst { Content } = Layout\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\n// const tailFormItemLayout = {\r\n//   wrapperCol: {\r\n//     xs: {\r\n//       span: 2,\r\n//       offset: 0\r\n//     },\r\n//     sm: {\r\n//       span: 2,\r\n//       offset: 4\r\n//     }\r\n//   }\r\n// }\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  data: IDocmVO | undefined\r\n  fileList: Array<UploadFile>\r\n}\r\n\r\nclass View extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      data: undefined,\r\n      fileList: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    this.setState({ loading: true }, () => {\r\n      Http.get(`/docm?id=${id}`)\r\n        .then(res => {\r\n          const data = res.data.data\r\n          const fileList = data.attachments.map(attachment => ({\r\n            uid: attachment.id,\r\n            size: 123,\r\n            name: attachment.docName,\r\n            type: 'image',\r\n            status: 'done',\r\n            response: {\r\n              status: '00000000',\r\n              data: [\r\n                {\r\n                  docName: attachment.docName,\r\n                  docPath: attachment.docPath\r\n                }\r\n              ]\r\n            }\r\n          }))\r\n          this.setState({ loading: false, data, fileList })\r\n        })\r\n        .catch(error => {})\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${modulePath}/list`)\r\n  }\r\n\r\n  renderContent() {\r\n    const { loading, data, fileList } = this.state\r\n    return !loading && data ? (\r\n      <Form {...formItemLayout}>\r\n        <Form.Item key={'projectName'} label=\"项目名称\">\r\n          {data.projectName}\r\n        </Form.Item>\r\n        <Form.Item key={'projectType'} label=\"项目类型\">\r\n          {data.projectType}\r\n        </Form.Item>\r\n        <Form.Item key={'company'} label=\"公司名称\">\r\n          {data.company}\r\n        </Form.Item>\r\n        <Form.Item key={'contractNum'} label=\"合同号\">\r\n          {data.contractNum}\r\n        </Form.Item>\r\n        <Form.Item key={'contractTime'} label=\"合同签订时间\">\r\n          {data.contractTime}\r\n        </Form.Item>\r\n        <Form.Item key={'credentialNum'} label=\"凭证号\">\r\n          {data.credentialNum}\r\n        </Form.Item>\r\n        <Form.Item key={'credentialTime'} label=\"凭证时间\">\r\n          {data.credentialTime}\r\n        </Form.Item>\r\n        <Form.Item key={'money'} label=\"金额\">\r\n          {data.money}\r\n        </Form.Item>\r\n        <Form.Item key={'dept'} label=\"科室\">\r\n          {data.dept ? data.dept.name : ''}\r\n        </Form.Item>\r\n        <Form.Item key={'files'} label=\"上传附件\">\r\n          <Upload\r\n            style={{ width: '100%' }}\r\n            name=\"files\"\r\n            action={`${serverPath}/doc`}\r\n            listType={'picture'}\r\n            multiple={false}\r\n            fileList={fileList}\r\n          />\r\n        </Form.Item>\r\n      </Form>\r\n    ) : (\r\n      <Spin size={'large'} />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ margin: '4px', flex: 1 }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button\r\n                className={'ele-operation'}\r\n                type={'primary'}\r\n                onClick={event => {\r\n                  event.preventDefault()\r\n                  const { match } = this.props\r\n                  const id = match.params['id']\r\n                  this.props.history.push(`${modulePath}/edit/${id}`)\r\n                }}\r\n              >\r\n                编辑\r\n              </Button>\r\n              <Button type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>{this.renderContent()}</div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(View)\r\n","import React from 'react'\r\nimport { Layout, Breadcrumb } from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Redirect,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport PrivateRoute from '../../../common/route'\r\nimport ListCmpt from './list'\r\nimport EditCmpt from './edit'\r\nimport ViewCmpt from './view'\r\n\r\nexport const modulePath = `/main/docm`\r\n\r\nconst { Sider } = Layout\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Docm extends React.Component<IProps, IState> {\r\n  render() {\r\n    const path = this.props.location.pathname\r\n    let curItem\r\n    if (path.indexOf(`${modulePath}/add`) >= 0) {\r\n      curItem = '新增'\r\n    } else if (path.indexOf(`${modulePath}/edit`) >= 0) {\r\n      curItem = '编辑'\r\n    } else if (path.indexOf(`${modulePath}/view`) >= 0) {\r\n      curItem = '详情'\r\n    } else if (path.indexOf(`${modulePath}/list`) >= 0) {\r\n      curItem = '查询'\r\n    }\r\n    return (\r\n      <Layout>\r\n        {/* 包裹内容的灰色边框，需要Sider的协助 */}\r\n        <Sider width={0}></Sider>\r\n        <Layout>\r\n          <div className=\"layout-content\">\r\n            <div className=\"layout-content-inner\">\r\n              <Breadcrumb>\r\n                <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n                <Breadcrumb.Item\r\n                  onClick={() => this.props.history.push(`${modulePath}`)}\r\n                >\r\n                  我的项目\r\n                </Breadcrumb.Item>\r\n                <Breadcrumb.Item>{curItem}</Breadcrumb.Item>\r\n              </Breadcrumb>\r\n              <HashRouter>\r\n                <Switch>\r\n                  <Redirect\r\n                    path={modulePath}\r\n                    exact={true}\r\n                    to={`${modulePath}/list`}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/list`}\r\n                    permission={['DOCM_LIST_VIEW', 'DOCM_LIST_DEPT_VIEW']}\r\n                    component={ListCmpt}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/edit/:id`}\r\n                    permission={'DOCM_EDIT_OPER'}\r\n                    component={EditCmpt}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/add`}\r\n                    permission={'DOCM_ADD_OPER'}\r\n                    component={EditCmpt}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/view/:id`}\r\n                    permission={'DOCM_DETAIL_VIEW'}\r\n                    component={ViewCmpt}\r\n                  />\r\n                  <Redirect\r\n                    path={`${modulePath}/**`}\r\n                    to={`${modulePath}/list`}\r\n                  />\r\n                </Switch>\r\n              </HashRouter>\r\n            </div>\r\n          </div>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Docm)\r\n","import React from 'react'\r\nimport { Layout, Form, Breadcrumb } from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport { UserContext } from '../../../index'\r\nimport './index.css'\r\n\r\nconst { Content } = Layout\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\n// const tailFormItemLayout = {\r\n//   wrapperCol: {\r\n//     xs: {\r\n//       span: 2,\r\n//       offset: 0\r\n//     },\r\n//     sm: {\r\n//       span: 2,\r\n//       offset: 4\r\n//     }\r\n//   }\r\n// }\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Info extends React.Component<IProps, IState> {\r\n  renderContent() {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          return (\r\n            <Form {...formItemLayout}>\r\n              <Form.Item key={'username'} label=\"用户名\">\r\n                {userInfo.username}\r\n              </Form.Item>\r\n              <Form.Item key={'phone'} label=\"手机\">\r\n                {userInfo.phone}\r\n              </Form.Item>\r\n              <Form.Item key={'email'} label=\"邮箱\">\r\n                {userInfo.email}\r\n              </Form.Item>\r\n              <Form.Item key={'dept'} label=\"科室\">\r\n                {userInfo.dept ? userInfo.dept.name : ''}\r\n              </Form.Item>\r\n            </Form>\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"layout-content\">\r\n        <div className=\"layout-content-inner\">\r\n          <Breadcrumb separator={'>'}>\r\n            <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n            <Breadcrumb.Item>我的账号</Breadcrumb.Item>\r\n            <Breadcrumb.Item>账号信息</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n          <Content>\r\n            <div className=\"view-page-content\">{this.renderContent()}</div>\r\n          </Content>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Info)\r\n","import React from 'react'\r\nimport { Layout, Button, message, Form, Input, Breadcrumb } from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport { UserContext } from '../../../index'\r\nimport Http from '../../../../common/http'\r\nimport md5 from 'js-md5'\r\nimport { modulePath } from '../index'\r\n\r\nconst { Content } = Layout\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 4 }\r\n  },\r\n  wrapperCol: {\r\n    xs: { span: 20 },\r\n    sm: { span: 16 }\r\n  }\r\n}\r\n\r\nconst tailFormItemLayout = {\r\n  wrapperCol: {\r\n    xs: {\r\n      span: 2,\r\n      offset: 0\r\n    },\r\n    sm: {\r\n      span: 2,\r\n      offset: 4\r\n    }\r\n  }\r\n}\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  id: string | undefined // 为了设置form表单的id字段\r\n}\r\n\r\nclass ModPwd extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      id: undefined\r\n    }\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields((err, fielldValues) => {\r\n        if (!err) {\r\n          const { id, oldPassword, password } = fielldValues\r\n          const values = {\r\n            id,\r\n            oldPassword: md5(oldPassword),\r\n            password: md5(password)\r\n          }\r\n          Http.post('/account/mod-pwd', values)\r\n            .then(res => {\r\n              if (res.data.status === '00000000') {\r\n                message.success('修改成功，请重新登录')\r\n                sessionStorage.removeItem('userId')\r\n                this.props.history.push(`${modulePath}/mod-pwd`)\r\n              } else {\r\n                message.error(res.data.message)\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.error(err.response.data.message)\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  renderContent() {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const { id } = userInfo\r\n          if (!this.state.id) {\r\n            this.setState({ id })\r\n          } else {\r\n            this.form && this.form.props.form.setFieldsValue({ id })\r\n          }\r\n          return (\r\n            <div>\r\n              <WrappedNormalForm\r\n                wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n                  this.form = form\r\n                }}\r\n              />\r\n              <Form {...tailFormItemLayout}>\r\n                <Form.Item>\r\n                  <Button block type={'primary'} onClick={this.handleSubmit}>\r\n                    {'提交'}\r\n                  </Button>\r\n                </Form.Item>\r\n              </Form>\r\n            </div>\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"layout-content\">\r\n        <div className=\"layout-content-inner\">\r\n          <Breadcrumb separator={'>'}>\r\n            <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n            <Breadcrumb.Item>我的账号</Breadcrumb.Item>\r\n            <Breadcrumb.Item>修改密码</Breadcrumb.Item>\r\n          </Breadcrumb>\r\n          <Content>\r\n            <div className=\"view-page-content\">{this.renderContent()}</div>\r\n          </Content>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(ModPwd)\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator, getFieldValue } = this.props.form\r\n    return (\r\n      <Form {...formItemLayout}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'oldPassword'} label=\"原密码\">\r\n          {getFieldDecorator('oldPassword', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: '请输入旧密码',\r\n                pattern: /^.{4,16}$/\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input type={'password'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'password'} label=\"新密码\">\r\n          {getFieldDecorator('password', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: '密码为4~16位任意字符',\r\n                pattern: /^.{4,16}$/\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input type={'password'} placeholder={'请输入密码'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'confirmPassword'} label=\"确认密码\">\r\n          {getFieldDecorator('confirmPassword', {\r\n            rules: [\r\n              {\r\n                message: '两次输入密码不一致',\r\n                validator: async (rule, value, callback, source, options) => {\r\n                  const password = getFieldValue('password')\r\n                  if (password !== value) {\r\n                    callback('error')\r\n                  } else {\r\n                    callback()\r\n                  }\r\n                }\r\n              }\r\n            ],\r\n            validateTrigger: 'onBlur'\r\n          })(<Input type={'password'} placeholder={'请再次输入密码'} />)}\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'mod_pwd'\r\n})(NormalForm)\r\n","import React from 'react'\r\nimport './index.css'\r\nimport { Layout, Menu, Icon } from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport PrivateRoute from '../../../common/route'\r\nimport Info from './info'\r\nimport ModPwd from './mod-pwd'\r\n\r\nexport const modulePath = `/main/account`\r\n\r\nconst { Sider } = Layout\r\n\r\nconst menusKey = ['/info', '/mod-pwd']\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  collapsed: boolean\r\n  selectedKeys: Array<string>\r\n}\r\n\r\nclass AccountSider extends React.Component<IProps, IState> {\r\n  state: IState = {\r\n    collapsed: false,\r\n    selectedKeys: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    const key = this.fetchDefaultSelectedKey()\r\n    this.handleOnSelect({ key })\r\n  }\r\n\r\n  fetchDefaultSelectedKey() {\r\n    const { pathname } = this.props.location\r\n    const selectedKeys = menusKey.filter(key => {\r\n      return pathname.indexOf(key) >= 0\r\n    })\r\n    if (selectedKeys.length < 1) {\r\n      return menusKey[0]\r\n    }\r\n    return selectedKeys[0]\r\n  }\r\n\r\n  handleOnSelect = param => {\r\n    const { key } = param\r\n    this.setState({ selectedKeys: [key] })\r\n    this.props.history.push(`${modulePath}${key}`)\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { selectedKeys } = this.state\r\n    return (\r\n      <Layout>\r\n        <Sider\r\n          width={180}\r\n          theme=\"dark\"\r\n          collapsed={this.state.collapsed}\r\n          collapsedWidth={80}\r\n        >\r\n          <span className=\"aside-top\" onClick={this.toggleCollapsed}>\r\n            <Icon\r\n              style={{ margin: '0 0 0 10px' }}\r\n              type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\r\n            />\r\n          </span>\r\n          <Menu\r\n            selectedKeys={selectedKeys}\r\n            mode=\"inline\"\r\n            theme=\"dark\"\r\n            onSelect={this.handleOnSelect}\r\n          >\r\n            <Menu.Item className=\"aside-item\" key=\"/info\">\r\n              <Icon type=\"user\" />\r\n              <span>账号信息</span>\r\n            </Menu.Item>\r\n            <Menu.Item className=\"aside-item\" key=\"/mod-pwd\">\r\n              <Icon type=\"safety\" />\r\n              <span>修改密码</span>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout>\r\n          <HashRouter>\r\n            <Switch>\r\n              <PrivateRoute path={`${modulePath}/info`} component={Info} />\r\n              <PrivateRoute path={`${modulePath}/mod-pwd`} component={ModPwd} />\r\n            </Switch>\r\n          </HashRouter>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(AccountSider)\r\n","import React from 'react'\r\nimport { Select, Spin } from 'antd'\r\nimport debounce from 'lodash/debounce'\r\nimport Http from '../../http'\r\n\r\nconst { Option } = Select\r\n\r\ninterface IProps {\r\n  onChange?: (value: string) => void\r\n}\r\n\r\ninterface IState {\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any\r\n    sorters: any\r\n  }\r\n  data: Array<{ text: string; value: string }>\r\n  value: Array<any>\r\n  loading: boolean\r\n}\r\n\r\nclass UserSelector extends React.Component<IProps, IState> {\r\n  constructor(props) {\r\n    super(props)\r\n    this.fetchUser = debounce(this.fetchUser, 800)\r\n    this.state = {\r\n      param: {\r\n        conditions: { ranges: {} },\r\n        sorters: {}\r\n      },\r\n      data: [],\r\n      value: [],\r\n      loading: false\r\n    }\r\n  }\r\n\r\n  fetchUser = value => {\r\n    const queryRequest = {\r\n      pageSize: 100,\r\n      current: 1,\r\n      conditions: { keywordUsername: value },\r\n      sorters: { username: 'asc' }\r\n    }\r\n    this.setState({ data: [], loading: true })\r\n    setTimeout(() => {\r\n      Http.post(`/user/search`, queryRequest).then(res => {\r\n        let data = []\r\n        if (\r\n          res.data.status === '00000000' &&\r\n          res.data.data.content.length > 0\r\n        ) {\r\n          data = res.data.data.content.map(account => ({\r\n            text: account.username,\r\n            value: account.username\r\n          }))\r\n        }\r\n        this.setState({ data, loading: false })\r\n      })\r\n    }, 300)\r\n  }\r\n\r\n  handleChange = value => {\r\n    const { onChange } = this.props\r\n    this.setState({\r\n      value,\r\n      data: [],\r\n      loading: false\r\n    })\r\n    onChange && onChange(value)\r\n  }\r\n\r\n  render() {\r\n    const { loading, data, value } = this.state\r\n    return (\r\n      <Select\r\n        value={value}\r\n        placeholder=\"搜索用户\"\r\n        notFoundContent={loading ? <Spin size=\"small\" /> : null}\r\n        filterOption={false}\r\n        showSearch\r\n        onSearch={this.fetchUser}\r\n        onChange={this.handleChange}\r\n        showArrow={false}\r\n        allowClear\r\n        style={{ width: '280px' }}\r\n        // suffixIcon={<Icon style={{ fontSize: '16px' }} type=\"search\" />}\r\n      >\r\n        {data.map(d => (\r\n          <Option key={d.value}>{d.text}</Option>\r\n        ))}\r\n      </Select>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserSelector\r\n","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Select,\r\n  Button,\r\n  Table,\r\n  Empty,\r\n  message,\r\n  Modal,\r\n  Tooltip,\r\n  Radio,\r\n  Collapse,\r\n  Form\r\n} from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport IOperLogVO from '../type'\r\n// import DateRange from './daterange'\r\nimport Http, { QueryResult, QueryRequest } from '../../../../common/http'\r\nimport UserSelector from '../../../../common/selector/user'\r\nimport { modulePath } from '../index'\r\nimport { toLine } from '../../../../common/util'\r\nimport { UserContext } from '../../../index'\r\nimport './index.css'\r\n\r\nconst { Content } = Layout\r\nconst { Option } = Select\r\nconst { Panel } = Collapse\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  selectedRowKeys: string[] | number[]\r\n  /**\r\n   * 模块名称下拉选数据\r\n   */\r\n  modules: Array<string>\r\n  /**\r\n   * 查询结果\r\n   */\r\n  data: QueryResult<IOperLogVO>\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any\r\n    sorters: any\r\n  }\r\n  /**\r\n   * 展开筛选折叠面板key\r\n   */\r\n  activeKey: string | undefined\r\n  /**\r\n   * 创建时间范围的选项值\r\n   */\r\n  rangeOptionValue: string | undefined\r\n  /**\r\n   * 操作名称下拉选数据\r\n   */\r\n  operNames: Array<string>\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      selectedRowKeys: [],\r\n      modules: [],\r\n      data: {\r\n        total: undefined,\r\n        content: []\r\n      },\r\n      pageSize: 10,\r\n      current: 1,\r\n      param: {\r\n        conditions: { ranges: {} },\r\n        sorters: {}\r\n      },\r\n      activeKey: 'searchPanel',\r\n      rangeOptionValue: 'none',\r\n      operNames: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleListChange()\r\n    this.loadOperNames()\r\n  }\r\n\r\n  handleListChange = () => {\r\n    this.setState({ loading: true }, () => {\r\n      const { pageSize, current, param } = this.state\r\n      const queryRequest: QueryRequest = {\r\n        pageSize,\r\n        current,\r\n        ...param\r\n      }\r\n      Http.post(`/operlog/list`, queryRequest)\r\n        .then(res => {\r\n          this.setState({ loading: false, data: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  loadOperNames = () => {\r\n    Http.get(`/operlog/name/list-all`)\r\n      .then(res => {\r\n        this.setState({ operNames: res.data.data })\r\n      })\r\n      .catch(err => {\r\n        message.error('加载操作名称数据失败')\r\n      })\r\n  }\r\n\r\n  handleSelectChangeForOperator = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['operator'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleSelectChangeForOperName = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['name'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleDeleteOper = async (ids: Array<string> | Array<number>) => {\r\n    Modal.confirm({\r\n      title: '确定删除?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: async () => {\r\n        let queryString = ''\r\n        ids.forEach(id => (queryString = queryString.concat(`ids=${id}&`)))\r\n        await Http.delete(\r\n          `/operlog?${queryString.substring(0, queryString.length - 1)}`\r\n        )\r\n        message.success('删除成功')\r\n        this.handleListChange()\r\n      }\r\n    })\r\n  }\r\n\r\n  handleCreateTimeRangeChange = e => {\r\n    let value = e.target.value\r\n    let createTimeRange\r\n    if (value !== 'none') {\r\n      let start\r\n      switch (value) {\r\n        case 'a':\r\n          start = moment()\r\n            .add('day', -3)\r\n            .format('YYYY-MM-DD HH:mm:ss')\r\n          break\r\n        case 'b':\r\n          start = moment()\r\n            .add('day', -7)\r\n            .format('YYYY-MM-DD HH:mm:ss')\r\n          break\r\n        case 'c':\r\n          start = moment()\r\n            .add('month', -1)\r\n            .format('YYYY-MM-DD HH:mm:ss')\r\n          break\r\n        case 'd':\r\n          start = moment()\r\n            .add('month', -6)\r\n            .format('YYYY-MM-DD HH:mm:ss')\r\n          break\r\n      }\r\n      createTimeRange = {\r\n        start,\r\n        end: moment().format('YYYY-MM-DD HH:mm:ss')\r\n      }\r\n    } else {\r\n      createTimeRange = undefined\r\n    }\r\n    const { ranges } = this.state.param.conditions\r\n    ranges['createTime'] = createTimeRange\r\n    this.setState({ rangeOptionValue: value, current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  renderPanel() {\r\n    const { rangeOptionValue } = this.state\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        span: 2,\r\n        offset: 0\r\n      },\r\n      wrapperCol: {\r\n        span: 16,\r\n        offset: 0\r\n      }\r\n    }\r\n    return (\r\n      <div>\r\n        <Form {...formItemLayout}>\r\n          <Form.Item label={'操作时间'}>\r\n            <div style={{ display: 'flex', alignItems: 'center' }}>\r\n              <div>\r\n                <Radio.Group\r\n                  value={rangeOptionValue}\r\n                  onChange={this.handleCreateTimeRangeChange}\r\n                >\r\n                  <Radio.Button\r\n                    className=\"radio-option\"\r\n                    key=\"none\"\r\n                    value=\"none\"\r\n                  >\r\n                    不限\r\n                  </Radio.Button>\r\n                  <Radio.Button className=\"radio-option\" key=\"a\" value=\"a\">\r\n                    近三天\r\n                  </Radio.Button>\r\n                  <Radio.Button className=\"radio-option\" key=\"b\" value=\"b\">\r\n                    近一周\r\n                  </Radio.Button>\r\n                  <Radio.Button className=\"radio-option\" key=\"c\" value=\"c\">\r\n                    近一月\r\n                  </Radio.Button>\r\n                  <Radio.Button className=\"radio-option\" key=\"d\" value=\"d\">\r\n                    近半年\r\n                  </Radio.Button>\r\n                </Radio.Group>\r\n              </div>\r\n              {/* <div><DateRange /></div> */}\r\n            </div>\r\n          </Form.Item>\r\n          <Form.Item label=\"操作者\">\r\n            <UserSelector onChange={this.handleSelectChangeForOperator} />\r\n          </Form.Item>\r\n        </Form>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderSearchBar() {\r\n    const { activeKey, operNames } = this.state\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        span: 4,\r\n        offset: 0\r\n      },\r\n      wrapperCol: {\r\n        span: 8,\r\n        offset: 0\r\n      }\r\n    }\r\n    return (\r\n      <div>\r\n        <div style={{ display: 'flex', alignItems: 'flex-start' }}>\r\n          <div style={{ flex: '1' }}>\r\n            <Form {...formItemLayout}>\r\n              <Form.Item label={'操作名称'}>\r\n                <Select\r\n                  placeholder={'请选择'}\r\n                  style={{ width: '280px' }}\r\n                  allowClear\r\n                  showArrow={true}\r\n                  onChange={this.handleSelectChangeForOperName}\r\n                >\r\n                  {operNames.map(operName => (\r\n                    <Option value={operName}>{operName}</Option>\r\n                  ))}\r\n                </Select>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n          <div style={{ flex: '1' }}>\r\n            <div style={{ float: 'right' }}>\r\n              <Button\r\n                type={'link'}\r\n                onClick={() =>\r\n                  this.setState({\r\n                    activeKey: activeKey ? undefined : 'searchPanel'\r\n                  })\r\n                }\r\n              >\r\n                {activeKey ? '收起筛选' : '展开筛选'}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <Collapse bordered={false} activeKey={activeKey}>\r\n          <Panel\r\n            key=\"searchPanel\"\r\n            style={{ border: 0 }}\r\n            showArrow={false}\r\n            header=\"\"\r\n          >\r\n            {this.renderPanel()}\r\n          </Panel>\r\n        </Collapse>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderButtonBar() {\r\n    const { selectedRowKeys } = this.state\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const DOCM_ADD_OPER_permission = userInfo['permissions'].find(\r\n            perm => perm.id === 'DOCM_ADD_OPER'\r\n          )\r\n          const DOCM_DELETE_OPER_permission = userInfo['permissions'].find(\r\n            perm => perm.id === 'DOCM_DELETE_OPER'\r\n          )\r\n          return (\r\n            <div style={{ margin: '4px', flex: 1 }}>\r\n              <span style={{ float: 'right' }}>\r\n                {DOCM_ADD_OPER_permission && (\r\n                  <Button\r\n                    className=\"ele-operation\"\r\n                    type=\"primary\"\r\n                    onClick={() => {\r\n                      this.props.history.push(`${modulePath}/add`)\r\n                    }}\r\n                  >\r\n                    新建\r\n                  </Button>\r\n                )}\r\n                {DOCM_DELETE_OPER_permission && (\r\n                  <Button\r\n                    type=\"ghost\"\r\n                    disabled={selectedRowKeys.length < 1}\r\n                    onClick={() => {\r\n                      this.handleDeleteOper(selectedRowKeys)\r\n                    }}\r\n                  >\r\n                    批量删除\r\n                  </Button>\r\n                )}\r\n              </span>\r\n            </div>\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n\r\n  buildColumns() {\r\n    const colPropsfor10 = {\r\n      onHeaderCell: column => ({\r\n        style: { textAlign: 'center', width: '10%' }\r\n      }),\r\n      onCell: (record, rowIndex) => ({\r\n        style: {\r\n          textAlign: 'center',\r\n          overflow: 'hidden',\r\n          textOverflow: 'ellipsis',\r\n          whiteSpace: 'nowrap',\r\n          cursor: 'pointer'\r\n        }\r\n      }),\r\n      render: text => (\r\n        <Tooltip placement=\"topLeft\" title={text}>\r\n          {text}\r\n        </Tooltip>\r\n      )\r\n    }\r\n    const columns = [\r\n      {\r\n        title: '序号',\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n          return index + 1\r\n        },\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '5%' }\r\n        }),\r\n        onCell: (record, rowIndex) => ({ style: { textAlign: 'center' } })\r\n      },\r\n      {\r\n        ...colPropsfor10,\r\n        title: '操作名称',\r\n        dataIndex: 'name',\r\n        key: 'name'\r\n      },\r\n      {\r\n        ...colPropsfor10,\r\n        title: '模块名称',\r\n        dataIndex: 'module',\r\n        key: 'module'\r\n      },\r\n      {\r\n        ...colPropsfor10,\r\n        title: '操作者',\r\n        dataIndex: 'operator',\r\n        key: 'operator'\r\n      },\r\n      {\r\n        ...colPropsfor10,\r\n        title: '操作结果',\r\n        dataIndex: 'result',\r\n        key: 'result',\r\n        onHeaderCell: column => ({\r\n          style: { textAlign: 'center', width: '5%' }\r\n        })\r\n      },\r\n      {\r\n        ...colPropsfor10,\r\n        title: '操作时间',\r\n        dataIndex: 'createTime',\r\n        key: 'createTime',\r\n        render: (text, record, index) => {\r\n          return moment(record.createTime).format('YYYY-MM-DD HH:mm:ss')\r\n        },\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        }\r\n      }\r\n    ]\r\n    return columns\r\n  }\r\n\r\n  renderTable() {\r\n    const { loading, data, pageSize, current, selectedRowKeys } = this.state\r\n    const { total, content } = data\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const DOCM_DELETE_OPER_permission = userInfo['permissions'].find(\r\n            perm => perm.id === 'DOCM_DELETE_OPER'\r\n          )\r\n          const rowSelection = DOCM_DELETE_OPER_permission\r\n            ? {\r\n                columnWidth: '30px',\r\n                selectedRowKeys,\r\n                onChange: selectedRowKeys => {\r\n                  this.setState({ selectedRowKeys })\r\n                }\r\n              }\r\n            : undefined\r\n          return loading || data.content.length > 0 ? (\r\n            <Table\r\n              rowKey={record => {\r\n                return record.id\r\n              }}\r\n              rowSelection={rowSelection}\r\n              columns={this.buildColumns()}\r\n              dataSource={content}\r\n              loading={loading}\r\n              onRow={(record, index) => {\r\n                return {\r\n                  onClick: event => {\r\n                    if (event.target['tagName'] !== 'TD') {\r\n                      return\r\n                    }\r\n                    this.props.history.push(`${modulePath}/view/${record.id}`)\r\n                  }\r\n                }\r\n              }}\r\n              size={'small'}\r\n              pagination={{\r\n                total,\r\n                current,\r\n                pageSize,\r\n                pageSizeOptions: ['10', '20', '50'],\r\n                showSizeChanger: true,\r\n                onShowSizeChange: (current, pageSize) => {\r\n                  this.setState({ current: 1, pageSize })\r\n                },\r\n                showTotal: total => {\r\n                  return `共 ${total} 条`\r\n                }\r\n              }}\r\n              onChange={(pagination, filters, sorter, extra) => {\r\n                const { param } = this.state\r\n                const { current, pageSize } = pagination\r\n                const { field, order } = sorter\r\n                param.sorters = {}\r\n                if (field && order) {\r\n                  param.sorters[toLine(field)] = fetchOrderDirection(order)\r\n                }\r\n                this.setState({ current, pageSize })\r\n                this.handleListChange()\r\n              }}\r\n            />\r\n          ) : (\r\n            <Empty description={'暂无内容'} />\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div className=\"list-page\">\r\n          <div className=\"list-page-content\">\r\n            <div className=\"list-page-content-toolbar\">\r\n              <div className=\"list-page-content-toolbar-search\">\r\n                {this.renderSearchBar()}\r\n              </div>\r\n              <div className=\"list-page-content-toolbar-button\">\r\n                {this.renderButtonBar()}\r\n              </div>\r\n            </div>\r\n            <div className=\"list-page-content-table\">{this.renderTable()}</div>\r\n          </div>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nfunction fetchOrderDirection(order: string) {\r\n  if (order === 'descend') {\r\n    return 'desc'\r\n  } else {\r\n    return 'asc'\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n","import React from 'react'\r\nimport { Layout, Form, Spin, Button, Row, Col } from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport IDocmVO from '../type'\r\nimport Http from '../../../../common/http'\r\nimport { modulePath } from '../index'\r\n\r\nconst { Content } = Layout\r\n\r\nconst viewItemLayout = {\r\n  span: 12,\r\n  offset: 0\r\n}\r\n\r\nconst formItemLayout = {\r\n  labelCol: {\r\n    span: 4,\r\n    offset: 2\r\n  },\r\n  wrapperCol: {\r\n    span: 16,\r\n    offset: 0\r\n  }\r\n}\r\n\r\n// const tailFormItemLayout = {\r\n//   wrapperCol: {\r\n//     xs: {\r\n//       span: 2,\r\n//       offset: 0\r\n//     },\r\n//     sm: {\r\n//       span: 2,\r\n//       offset: 4\r\n//     }\r\n//   }\r\n// }\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  data: IDocmVO | undefined\r\n}\r\n\r\nclass View extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      data: undefined\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    this.setState({ loading: true }, () => {\r\n      Http.get(`/operlog?id=${id}`)\r\n        .then(res => {\r\n          this.setState({ loading: false, data: res.data.data })\r\n        })\r\n        .catch(error => {})\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    this.props.history.push(`${modulePath}/list`)\r\n  }\r\n\r\n  renderContent() {\r\n    const { loading, data } = this.state\r\n    return !loading && data ? (\r\n      <Form {...formItemLayout}>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'name'} label=\"操作名称\">\r\n              {data.name}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'module'} label=\"模块名称\">\r\n              {data.module}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'operator'} label=\"操作者\">\r\n              {data.operator}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'createTime'} label=\"操作时间\">\r\n              {data.createTime}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'result'} label=\"操作结果\">\r\n              {data.result}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'ip'} label=\"远程IP\">\r\n              {data.ip}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'userAgent'} label=\"UserAgent\">\r\n              {data.userAgent}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'method'} label=\"HTTP方法\">\r\n              {data.method}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'url'} label=\"URL\">\r\n              {data.url}\r\n            </Form.Item>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col {...viewItemLayout}>\r\n            <Form.Item key={'contractNum'} label=\"操作内容\">\r\n              {data.content}\r\n            </Form.Item>\r\n          </Col>\r\n          <Col {...viewItemLayout}></Col>\r\n        </Row>\r\n      </Form>\r\n    ) : (\r\n      <Spin size={'large'} />\r\n    )\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Content>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ margin: '4px', flex: 1 }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>{this.renderContent()}</div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(View)\r\n","import React from 'react'\r\nimport { Layout, Breadcrumb } from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Redirect,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport PrivateRoute from '../../../common/route'\r\nimport ListCmpt from './list'\r\nimport ViewCmpt from './view'\r\n\r\nexport const modulePath = `/main/operlog`\r\n\r\nconst { Sider } = Layout\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Operlog extends React.Component<IProps, IState> {\r\n  render() {\r\n    const path = this.props.location.pathname\r\n    let curItem\r\n    if (path.indexOf(`${modulePath}/view`) >= 0) {\r\n      curItem = '详情'\r\n    } else if (path.indexOf(`${modulePath}/list`) >= 0) {\r\n      curItem = '查询'\r\n    }\r\n    return (\r\n      <Layout>\r\n        {/* 包裹内容的灰色边框，需要Sider的协助 */}\r\n        <Sider width={0}></Sider>\r\n        <Layout>\r\n          <div className=\"layout-content\">\r\n            <div className=\"layout-content-inner\">\r\n              <Breadcrumb>\r\n                <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n                <Breadcrumb.Item\r\n                  onClick={() => this.props.history.push(`${modulePath}`)}\r\n                >\r\n                  日志审计\r\n                </Breadcrumb.Item>\r\n                <Breadcrumb.Item>{curItem}</Breadcrumb.Item>\r\n              </Breadcrumb>\r\n              <HashRouter>\r\n                <Switch>\r\n                  <Redirect\r\n                    path={modulePath}\r\n                    exact={true}\r\n                    to={`${modulePath}/list`}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/list`}\r\n                    component={ListCmpt}\r\n                  />\r\n                  <PrivateRoute\r\n                    path={`${modulePath}/view/:id`}\r\n                    component={ViewCmpt}\r\n                  />\r\n                  <Redirect\r\n                    path={`${modulePath}/**`}\r\n                    to={`${modulePath}/list`}\r\n                  />\r\n                </Switch>\r\n              </HashRouter>\r\n            </div>\r\n          </div>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Operlog)\r\n","import React from 'react'\r\nimport './index.css'\r\nimport {\r\n  HashRouter,\r\n  Switch,\r\n  withRouter,\r\n  Redirect,\r\n  Route,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport headerMenu from '../menu'\r\nimport { UserContext } from '../index'\r\nimport UserModule from './user/index'\r\nimport DocmModule from './docm/index'\r\nimport AccountModule from './account/index'\r\nimport OperlogModule from './operlog/index'\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ntype IState = {}\r\n\r\nclass Side extends React.Component<IProps, IState> {\r\n  render() {\r\n    return (\r\n      <UserContext.Consumer>\r\n        {userInfo => {\r\n          const menus = headerMenu.filter(m => {\r\n            if (userInfo['username']) {\r\n              if (userInfo['username'] === 'admin') {\r\n                return m.role.filter(role => role === 'admin').length > 0\r\n              } else {\r\n                return m.role.filter(role => role === 'normal').length > 0\r\n              }\r\n            }\r\n            return false\r\n          })\r\n          const routeMap = [\r\n            {\r\n              key: '/docm',\r\n              value: <Route path={'/main/docm'} component={DocmModule} />\r\n            },\r\n            {\r\n              key: '/user',\r\n              value: <Route path={'/main/user'} component={UserModule} />\r\n            },\r\n            {\r\n              key: '/account',\r\n              value: <Route path={'/main/account'} component={AccountModule} />\r\n            },\r\n            {\r\n              key: '/operlog',\r\n              value: <Route path={'/main/operlog'} component={OperlogModule} />\r\n            }\r\n          ]\r\n          return (\r\n            menus.length > 0 && (\r\n              <HashRouter>\r\n                <Switch>\r\n                  <Redirect\r\n                    path={'/main'}\r\n                    exact={true}\r\n                    to={`/main${menus[0].key}`}\r\n                  />\r\n                  {routeMap\r\n                    .filter(r => menus.filter(m => m.key === r.key).length > 0)\r\n                    .map(r => r.value)}\r\n                </Switch>\r\n              </HashRouter>\r\n            )\r\n          )\r\n        }}\r\n      </UserContext.Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Side)\r\n","import React, { Component } from 'react'\r\nimport { Layout } from 'antd'\r\nimport HomeHeader from './header/index'\r\nimport HomeSider from './sider/index'\r\nimport Http from '../common/http'\r\nimport './index.css'\r\nimport IAccountVO from './sider/user/manage/type'\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nexport const UserContext = React.createContext<IAccountVO>({} as IAccountVO)\r\n\r\nclass Home extends Component<IProps, IState> {\r\n  state = {\r\n    collapsed: false,\r\n    userInfo: {} as IAccountVO\r\n  }\r\n\r\n  componentDidMount() {\r\n    Http.get(`/account?id=${sessionStorage.getItem('userId')}`)\r\n      .then(res => {\r\n        const userInfo = { ...res.data.data }\r\n        this.setState({ userInfo })\r\n      })\r\n      .catch(err => {})\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { userInfo } = this.state\r\n    return userInfo['id'] ? (\r\n      <UserContext.Provider value={userInfo}>\r\n        <Layout className=\"ant-layout-home\">\r\n          <HomeHeader />\r\n          <HomeSider />\r\n        </Layout>\r\n      </UserContext.Provider>\r\n    ) : (\r\n      <div />\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport { Form, Icon, Input, Button, message } from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport Http from '../common/http/index'\r\nimport md5 from 'js-md5'\r\nimport img from '../assert/img/login_3.jpg'\r\nimport Logo from '../assert/svg/Logo.svg'\r\nimport './index.css'\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Login extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined\r\n\r\n  handleSubmit = (e: React.MouseEvent) => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields(async (err, values) => {\r\n        if (!err) {\r\n          const password = md5(values.password)\r\n          await Http.post(`/account/login`, { ...values, password })\r\n            .then(res => {\r\n              if (res.data.status === '00000000') {\r\n                sessionStorage.setItem('userId', res.data.data.id)\r\n                setTimeout(() => {\r\n                  this.props.history.push('/main')\r\n                }, 300)\r\n              } else {\r\n                this.form &&\r\n                  this.form.props.form.setFields({\r\n                    password: {\r\n                      value: values.password,\r\n                      errors: [new Error(res.data.message)]\r\n                    }\r\n                  })\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.error('服务器异常')\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"login\">\r\n        <img className=\"login-img\" src={img} alt=\"\" />\r\n        <div className=\"login-form\">\r\n          <div className=\"login-form-top\">\r\n            <div className=\"logo\">\r\n              <a href=\"/\">\r\n                <img className=\"logo-img\" src={Logo} alt=\"logo\" />\r\n                <span className=\"logo-text\">Contract MS</span>\r\n              </a>\r\n            </div>\r\n            <div className=\"logo-desc\">欢迎登录合同管理系统</div>\r\n          </div>\r\n          <WrappedNormalLoginForm\r\n            wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n              this.form = form\r\n            }}\r\n          />\r\n          <Button\r\n            className=\"login-form-item\"\r\n            type=\"primary\"\r\n            onClick={this.handleSubmit}\r\n          >\r\n            登录\r\n          </Button>\r\n        </div>\r\n        <div className=\"copyright\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Login)\r\n\r\ninterface FormProps extends FormComponentProps {\r\n  username: string\r\n  password: string\r\n  onSubmit?: () => void\r\n}\r\n\r\nclass NormalLoginForm extends React.Component<FormProps, any> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form layout={'vertical'}>\r\n        <Form.Item>\r\n          {getFieldDecorator('username', {\r\n            rules: [{ required: true, message: '请输入用户名' }]\r\n          })(\r\n            <Input\r\n              className=\"login-form-item\"\r\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"用户名\"\r\n            />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('password', {\r\n            rules: [{ required: true, message: '请输入密码' }]\r\n          })(\r\n            <Input\r\n              className=\"login-form-item\"\r\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              type=\"password\"\r\n              placeholder=\"密码\"\r\n            />\r\n          )}\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalLoginForm)\r\n","import React, { PureComponent } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom'\r\nimport { LocaleProvider } from 'antd'\r\nimport Home from './home/index'\r\nimport Login from './login/index'\r\nimport zhCN from 'antd/es/locale-provider/zh_CN'\r\nimport PrivateRoute from './common/route'\r\nimport 'moment/locale/zh-cn' // 全局修改\r\nimport './index.css'\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nclass App extends PureComponent<IProps, IState> {\r\n  render() {\r\n    return (\r\n      <LocaleProvider locale={zhCN}>\r\n        <HashRouter>\r\n          <Switch>\r\n            <Redirect path={'/'} exact={true} to={'/main'} />\r\n            <Route path={'/login'} component={Login} />\r\n            <PrivateRoute path={'/main'} component={Home} />\r\n          </Switch>\r\n        </HashRouter>\r\n      </LocaleProvider>\r\n    )\r\n  }\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}