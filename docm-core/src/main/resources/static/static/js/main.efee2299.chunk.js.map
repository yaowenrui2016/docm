{"version":3,"sources":["assert/img/b.png","common/route/index.tsx","home/header/index.tsx","home/sider/user/index.tsx","common/http/index.ts","home/sider/docm/list/index.tsx","common/util/index.ts","home/sider/docm/edit/index.tsx","home/sider/docm/index.tsx","home/sider/index.tsx","home/index.tsx","login/index.tsx","index.tsx"],"names":["module","exports","__webpack_require__","p","PrivateRoute","_ref","Component","component","props","Object","objectWithoutProperties","react_default","a","createElement","react_router","assign","render","sessionStorage","getItem","to","pathname","state","from","location","Header","menuPaths","HomeHeader","fetchDefaultSelectedKey","_this","selectedKeys","filter","path","indexOf","length","_this2","this","userId","history","push","menu","es_menu","Item","es_button","onClick","removeItem","setTimeout","className","theme","mode","defaultSelectedKeys","style","lineHeight","onSelect","param","_this2$props","match","key","dropdown","overlay","placement","avatar","margin","color","fontSize","size","withRouter","Sider","UserSider","collapsed","handleSearch","value","console","log","toggleCollapsed","setState","layout","width","collapsedWidth","icon","type","padding","result","status","title","subTitle","React","serverPath","http","axios","create","baseURL","withCredentials","timeout","interceptors","request","use","config","xAuthToken","headers","error","response","setItem","message","createHashHistory","Content","List","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleListChange","loading","_this$state","pageSize","current","queryRequest","objectSpread","Http","post","then","res","data","catch","handleSelectChange","conditions","handleDeleteOper","asyncToGenerator","regenerator_default","mark","_callee2","ids","wrap","_context2","prev","next","modal","confirm","okText","cancelText","onOk","_onOk","_callee","queryString","_context","forEach","id","concat","delete","substring","success","stop","apply","arguments","_x","selectedRowKeys","total","undefined","content","sorters","_this$state2","columns","text","record","index","dataIndex","sorter","b","moment","createTime","format","replace","event","url","aElement","document","href","target","click","window","URL","revokeObjectURL","display","breadcrumb","alignItems","flex","es_select","placeholder","tokenSeparators","showArrow","suffixIcon","onChange","notFoundContent","float","disabled","table","rowKey","rowSelection","dataSource","onRow","pagination","showSizeChanger","showTotal","filters","extra","name","field","order","toLowerCase","fetchOrderDirection","empty","description","MonthPicker","form","handleCancel","e","preventDefault","handleSubmit","validateFields","err","fielldValues","values","contractTime","credentialTime","put","_x2","fileList","params","info","get","setFieldsValue","attachments","map","attachment","uid","docName","docPath","_this3","edit_Content","flexGrow","block","WrappedNormalForm","wrappedComponentRef","es_form","labelCol","span","wrapperCol","label","upload","action","listType","multiple","file","offset","NormalForm","getFieldDecorator","input","hidden","rules","required","date_picker","Docm","docm_Sider","background","react_router_dom","exact","ListCmpt","EditCmpt","Side","DocmModule","UserModule","Home","home_header","home_sider","Login","password","md5","username","setFields","errors","Error","height","paddingBottom","overflow","backgroundPosition","backgroundRepeat","backgroundSize","backgroundImage","img","WrappedNormalLoginForm","NormalLoginForm","prefix","App","route","PureComponent","ReactDOM","src_App","getElementById"],"mappings":"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","file":"static/js/main.efee2299.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/b.65a278b7.png\";","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\n// 这个组件将根据登录的情况, 返回一个路由\r\nconst PrivateRoute = ({ component: Component, ...props }) => {\r\n  // 解构赋值 将 props 里面的 component 赋值给 Component\r\n  return (\r\n    <Route\r\n      {...props}\r\n      render={p => {\r\n        const userId = sessionStorage.getItem('userId')\r\n        if (userId) {\r\n          // 如果登录了, 返回正确的路由\r\n          return <Component />\r\n        } else {\r\n          // 没有登录就重定向至登录页面\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: '/login',\r\n                state: {\r\n                  from: p.location.pathname\r\n                }\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      }}\r\n    />\r\n  )\r\n}\r\nexport default PrivateRoute\r\n","import React, { Component } from 'react'\r\nimport './index.css'\r\nimport { Layout, Menu, Avatar, Dropdown, Button } from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\n\r\nconst { Header } = Layout\r\n\r\nconst menuPaths = ['/docm', '/user']\r\n\r\ninterface IProps extends RouteComponentProps {}\r\n\r\ninterface IState {}\r\n\r\nclass HomeHeader extends Component<IProps, IState> {\r\n  fetchDefaultSelectedKey = () => {\r\n    const { pathname } = this.props.location\r\n    const selectedKeys = menuPaths.filter(path => {\r\n      return pathname.indexOf(path) >= 0\r\n    })\r\n    if (selectedKeys.length < 1) {\r\n      return [menuPaths[0]]\r\n    }\r\n    return selectedKeys\r\n  }\r\n\r\n  render() {\r\n    const userId = sessionStorage.getItem('userId')\r\n    if (!userId) {\r\n      this.props.history.push('/login')\r\n    }\r\n    const menu = (\r\n      <Menu>\r\n        <Menu.Item>\r\n          <Button\r\n            onClick={() => {\r\n              this.props.history.push('/main/user/edit')\r\n            }}\r\n          >\r\n            {'修改密码'}\r\n          </Button>\r\n        </Menu.Item>\r\n        <Menu.Item>\r\n          <Button\r\n            onClick={() => {\r\n              sessionStorage.removeItem('userId')\r\n              setTimeout(() => {\r\n                this.props.history.push('/login')\r\n              }, 300)\r\n            }}\r\n          >\r\n            {'退出'}\r\n          </Button>\r\n        </Menu.Item>\r\n      </Menu>\r\n    )\r\n    return (\r\n      <div>\r\n        <Header className=\"header\">\r\n          {/* <div key=\"logo\" className=\"logo\" /> */}\r\n          <Menu\r\n            className=\"navbar\"\r\n            theme=\"dark\"\r\n            mode=\"horizontal\"\r\n            defaultSelectedKeys={this.fetchDefaultSelectedKey()}\r\n            style={{ lineHeight: '64px' }}\r\n            onSelect={param => {\r\n              const { history, match } = this.props\r\n              history.push(match.path + param.key)\r\n            }}\r\n          >\r\n            <Menu.Item className=\"navbar-item\" key=\"/docm\">\r\n              我的项目\r\n            </Menu.Item>\r\n            <Menu.Item className=\"navbar-item\" key=\"/user\">\r\n              账户与安全\r\n            </Menu.Item>\r\n          </Menu>\r\n          <Dropdown overlay={menu} placement=\"bottomRight\">\r\n            <Avatar\r\n              style={{ margin: '0 8px 0 0', color: 'white', fontSize: '25px' }}\r\n              size=\"large\"\r\n            >\r\n              {userId}\r\n            </Avatar>\r\n          </Dropdown>\r\n        </Header>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(HomeHeader)\r\n","import React from 'react'\r\nimport './index.css'\r\nimport { Layout, Menu, Icon, Result } from 'antd'\r\n\r\nconst { Sider } = Layout\r\n\r\nclass UserSider extends React.Component {\r\n  state = {\r\n    collapsed: false\r\n  }\r\n\r\n  handleSearch = (value: string) => {\r\n    console.log(value)\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <Sider\r\n          width={180}\r\n          theme=\"dark\"\r\n          collapsed={this.state.collapsed}\r\n          collapsedWidth={80}\r\n        >\r\n          <span className=\"aside-top\" onClick={this.toggleCollapsed}>\r\n            <Icon\r\n              style={{ margin: '0 0 0 10px' }}\r\n              type={this.state.collapsed ? 'menu-unfold' : 'menu-fold'}\r\n            />\r\n          </span>\r\n          <Menu defaultSelectedKeys={['/normal']} mode=\"inline\" theme=\"dark\">\r\n            <Menu.Item className=\"aside-item\" key=\"/normal\">\r\n              <Icon type=\"user\" />\r\n              <span>账号管理</span>\r\n            </Menu.Item>\r\n            <Menu.Item className=\"aside-item\" key=\"/authority\">\r\n              <Icon type=\"safety-certificate\" />\r\n              <span>权限管理</span>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout style={{ padding: '0 24px 24px' }}>\r\n          <Result status=\"403\" title=\"403\" subTitle=\"对不起，拒绝访问\" />\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserSider\r\n","import axios from 'axios'\r\nimport { createHashHistory } from 'history'\r\nimport { message } from 'antd'\r\n\r\nexport interface QueryRequest {\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  conditions?: any\r\n  sorters?: any\r\n}\r\n\r\nexport interface QueryResult<T> {\r\n  total: number | undefined\r\n  content: Array<T>\r\n}\r\n\r\nexport const serverPath = \"http://localhost:8090\"\r\n\r\nconst http = axios.create({\r\n  baseURL: serverPath,\r\n  withCredentials: false,\r\n  timeout: 10000\r\n});\r\n\r\nhttp.interceptors.request.use(config => {\r\n  const xAuthToken = sessionStorage.getItem('xAuthToken');\r\n  if (xAuthToken) {\r\n    config.headers['x-auth-token'] = xAuthToken\r\n  }\r\n  return config\r\n}, error => {\r\n  console.error('请求异常')\r\n})\r\n\r\nhttp.interceptors.response.use(response => {\r\n  const xAuthToken = response.headers['x-auth-token']\r\n  if (xAuthToken) {\r\n    sessionStorage.setItem('xAuthToken', xAuthToken)\r\n  }\r\n  return response\r\n}, error => {\r\n  debugger\r\n  if (error.response.status === 401) {\r\n    sessionStorage.removeItem('userId')\r\n    message.error('登录超时，请重新登录', 3)\r\n    setTimeout(() => {\r\n      createHashHistory().push(\"/login\")\r\n    }, 500)\r\n  }\r\n})\r\n\r\nexport default http","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Breadcrumb,\r\n  Select,\r\n  Button,\r\n  Table,\r\n  Empty,\r\n  message,\r\n  Icon,\r\n  Modal\r\n} from 'antd'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport IDocmVO from '../type'\r\nimport Http, {\r\n  QueryResult,\r\n  QueryRequest,\r\n  serverPath\r\n} from '../../../../common/http'\r\nimport { toLine } from '../../../../common/util'\r\n\r\nconst { Content } = Layout\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {\r\n  loading: boolean\r\n  selectedRowKeys: string[] | number[]\r\n  /**\r\n   * 查询结果\r\n   */\r\n  data: QueryResult<IDocmVO>\r\n  pageSize: number | undefined\r\n  current: number | undefined\r\n  /**\r\n   * 查询条件与排序\r\n   */\r\n  param: {\r\n    conditions: any | undefined\r\n    sorters: any | undefined\r\n  }\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      loading: true,\r\n      selectedRowKeys: [],\r\n      data: {\r\n        total: undefined,\r\n        content: []\r\n      },\r\n      pageSize: 10,\r\n      current: 1,\r\n      param: {\r\n        conditions: {},\r\n        sorters: {}\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleListChange = () => {\r\n    this.setState({ loading: true }, () => {\r\n      const { pageSize, current, param } = this.state\r\n      const queryRequest: QueryRequest = {\r\n        pageSize,\r\n        current,\r\n        ...param\r\n      }\r\n      Http.post('/docm/list', queryRequest)\r\n        .then(res => {\r\n          this.setState({ loading: false, data: res.data.data })\r\n        })\r\n        .catch(error => {\r\n          this.setState({ loading: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  handleSelectChange = value => {\r\n    const { conditions } = this.state.param\r\n    conditions['keywords'] = value\r\n    this.setState({ current: 1 })\r\n    this.handleListChange()\r\n  }\r\n\r\n  handleDeleteOper = async (ids: Array<string> | Array<number>) => {\r\n    Modal.confirm({\r\n      title: '确定删除?',\r\n      okText: '确认',\r\n      cancelText: '取消',\r\n      onOk: async () => {\r\n        let queryString = ''\r\n        ids.forEach(id => (queryString = queryString.concat(`ids=${id}&`)))\r\n        await Http.delete(\r\n          `/docm?${queryString.substring(0, queryString.length - 1)}`\r\n        )\r\n        message.success('删除成功')\r\n        this.handleListChange()\r\n      }\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { loading, selectedRowKeys, data, pageSize, current } = this.state\r\n    const { total, content } = data\r\n    const columns = [\r\n      {\r\n        title: '序号',\r\n        key: 'index',\r\n        render: (text, record, index) => {\r\n          return index + 1\r\n        }\r\n      },\r\n      {\r\n        title: '项目名称',\r\n        dataIndex: 'projectName',\r\n        key: 'projectName'\r\n      },\r\n      {\r\n        title: '项目类型',\r\n        dataIndex: 'projectType',\r\n        key: 'projectType'\r\n      },\r\n      {\r\n        title: '公司名称',\r\n        dataIndex: 'company',\r\n        key: 'company'\r\n      },\r\n      {\r\n        title: '合同号',\r\n        dataIndex: 'contractNum',\r\n        key: 'contractNum'\r\n      },\r\n      {\r\n        title: '合同签订时间',\r\n        dataIndex: 'contractTime',\r\n        key: 'contractTime',\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        }\r\n      },\r\n      {\r\n        title: '凭证时间',\r\n        dataIndex: 'credentialTime',\r\n        key: 'credentialTime',\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        }\r\n      },\r\n      {\r\n        title: '创建时间',\r\n        dataIndex: 'createTime',\r\n        key: 'createTime',\r\n        render: (text, record, index) => {\r\n          return moment(record.createTime).format('YYYY-MM-DD HH:mm:ss')\r\n        },\r\n        sorter: (a, b) => {\r\n          return a.id - b.id\r\n        }\r\n      },\r\n      {\r\n        title: '操作',\r\n        key: 'operation',\r\n        render: (text, record, index) => {\r\n          return (\r\n            <div>\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={'编辑'}\r\n                type=\"edit\"\r\n                onClick={() => {\r\n                  const { match } = this.props\r\n                  const path = match.path.replace('/list', `/edit/${record.id}`)\r\n                  this.props.history.push(path)\r\n                }}\r\n              />\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={'下载'}\r\n                type=\"download\"\r\n                onClick={event => {\r\n                  const url = `${serverPath}/doc?id=${record.id}`\r\n                  const aElement = document.createElement('a')\r\n                  aElement.href = url\r\n                  aElement.target = '_blank'\r\n                  aElement.click()\r\n                  window.URL.revokeObjectURL(url)\r\n                }}\r\n              />\r\n              <div id=\"downloadDiv\" style={{ display: 'none' }} />\r\n              <Icon\r\n                style={{ fontSize: '17px', margin: '0 9px 0 0' }}\r\n                title={'删除'}\r\n                type=\"delete\"\r\n                onClick={() => this.handleDeleteOper([record.id])}\r\n              />\r\n            </div>\r\n          )\r\n        }\r\n      }\r\n    ]\r\n    return (\r\n      <Content>\r\n        <Breadcrumb style={{ margin: '8px' }}>\r\n          <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n          <Breadcrumb.Item>我的项目</Breadcrumb.Item>\r\n          <Breadcrumb.Item>查询</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <div\r\n          style={{\r\n            margin: '4px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ margin: '4px', flex: 1 }}>\r\n            <Select\r\n              mode={'tags'}\r\n              placeholder={'请输入关键字'}\r\n              style={{ width: '280px' }}\r\n              tokenSeparators={[' ']}\r\n              showArrow={true}\r\n              suffixIcon={<Icon style={{ fontSize: '16px' }} type=\"search\" />}\r\n              onChange={this.handleSelectChange}\r\n              notFoundContent={null}\r\n            />\r\n          </div>\r\n          <div style={{ margin: '4px', flex: 1 }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button\r\n                className=\"ele-operation\"\r\n                type=\"primary\"\r\n                onClick={() => {\r\n                  const { match } = this.props\r\n                  const path = match.path.replace('/list', '/edit')\r\n                  this.props.history.push(path)\r\n                }}\r\n              >\r\n                新建\r\n              </Button>\r\n              <Button\r\n                type=\"ghost\"\r\n                disabled={selectedRowKeys.length < 1}\r\n                onClick={() => {\r\n                  this.handleDeleteOper(selectedRowKeys)\r\n                }}\r\n              >\r\n                批量删除\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>\r\n          {loading || data.content.length > 0 ? (\r\n            <Table\r\n              rowKey={record => {\r\n                return record.id\r\n              }}\r\n              rowSelection={{\r\n                selectedRowKeys,\r\n                onChange: selectedRowKeys => {\r\n                  this.setState({ selectedRowKeys })\r\n                }\r\n              }}\r\n              columns={columns}\r\n              dataSource={content}\r\n              loading={loading}\r\n              onRow={(record, index) => {\r\n                return {\r\n                  onClick: event => {\r\n                    if (event.target['tagName'] !== 'TD') {\r\n                      return\r\n                    }\r\n                    // TODO\r\n                    // message.info('查看' + record.id)\r\n                  }\r\n                }\r\n              }}\r\n              size={'middle'}\r\n              pagination={{\r\n                total,\r\n                current,\r\n                pageSize,\r\n                showSizeChanger: true,\r\n                showTotal: total => {\r\n                  return `共${total}条`\r\n                }\r\n              }}\r\n              onChange={(pagination, filters, sorter, extra) => {\r\n                const { param } = this.state\r\n                const { current, pageSize } = pagination\r\n                const { field, order } = sorter\r\n                param.sorters = {}\r\n                if (field && order) {\r\n                  param.sorters[toLine(field)] = fetchOrderDirection(order)\r\n                }\r\n                this.setState({ current, pageSize })\r\n                this.handleListChange()\r\n              }}\r\n            />\r\n          ) : (\r\n            <Empty description={'暂无内容'} />\r\n          )}\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nfunction fetchOrderDirection(order: string) {\r\n  if (order === 'descend') {\r\n    return 'desc'\r\n  } else {\r\n    return 'asc'\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n","/** 下划线转换驼峰 */\r\nexport function toHump(name: string) {\r\n  return name.replace(/_(\\w)/g, function (all, letter) {\r\n    return letter.toUpperCase();\r\n  });\r\n}\r\n\r\n/** 驼峰转换下划线 */\r\nexport function toLine(name: string) {\r\n  return name.replace(/([A-Z])/g, \"_$1\").toLowerCase();\r\n} ","import React from 'react'\r\nimport {\r\n  Layout,\r\n  Breadcrumb,\r\n  Button,\r\n  Form,\r\n  Input,\r\n  Icon,\r\n  message,\r\n  Upload,\r\n  DatePicker\r\n} from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { UploadFile } from 'antd/lib/upload/interface'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport moment from 'moment'\r\nimport IDocmVO from '../type'\r\nimport Http, { serverPath } from '../../../../common/http'\r\n\r\nconst { Content } = Layout\r\nconst { MonthPicker } = DatePicker\r\n\r\ntype IProps = RouteComponentProps & {\r\n  username: string\r\n}\r\n\r\ninterface IState {\r\n  mode: 'edit' | 'add' | undefined\r\n  loading: boolean\r\n  data: IDocmVO | undefined\r\n  fileList: Array<UploadFile>\r\n}\r\n\r\nclass List extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined = undefined\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      mode: undefined,\r\n      loading: true,\r\n      data: undefined,\r\n      fileList: []\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props\r\n    const id = match.params['id']\r\n    const mode = id ? 'edit' : 'add'\r\n    this.setState({ mode, loading: true }, () => {\r\n      if (mode === 'edit') {\r\n        message.info('编辑')\r\n        Http.get(`/docm?id=${id}`)\r\n          .then(res => {\r\n            const data = res.data.data\r\n            this.form &&\r\n              this.form.props.form.setFieldsValue({\r\n                ...data,\r\n                contractTime: data.contractTime\r\n                  ? moment(data.contractTime, 'YYYY-MM-DD')\r\n                  : undefined,\r\n                credentialTime: data.credentialTime\r\n                  ? moment(data.credentialTime, 'YYYY-MM')\r\n                  : undefined\r\n              })\r\n            const fileList = data.attachments.map(attachment => ({\r\n              uid: attachment.id,\r\n              size: 123,\r\n              name: attachment.docName,\r\n              type: 'image',\r\n              status: 'done',\r\n              response: {\r\n                status: '00000000',\r\n                data: [\r\n                  {\r\n                    docName: attachment.docName,\r\n                    docPath: attachment.docPath\r\n                  }\r\n                ]\r\n              }\r\n            }))\r\n            this.setState({ loading: false, fileList })\r\n          })\r\n          .catch(error => {})\r\n      } else if (mode === 'add') {\r\n        message.info('新建')\r\n        this.form && this.form.props.form.setFieldsValue({ attachments: [] })\r\n      }\r\n    })\r\n  }\r\n\r\n  handleCancel = e => {\r\n    e.preventDefault()\r\n    const { match } = this.props\r\n    const path = match.path.replace('/edit', '/list')\r\n    this.props.history.push(path)\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields(async (err, fielldValues) => {\r\n        if (!err) {\r\n          const values: IDocmVO = {\r\n            ...fielldValues,\r\n            contractTime: fielldValues['contractTime']\r\n              ? fielldValues['contractTime'].format('YYYY-MM-DD')\r\n              : undefined,\r\n            credentialTime: fielldValues['credentialTime']\r\n              ? fielldValues['credentialTime'].format('YYYY-MM')\r\n              : undefined\r\n          }\r\n          const { mode } = this.state\r\n          if (mode === 'add') {\r\n            await Http.put('/docm', values)\r\n          } else if (mode === 'edit') {\r\n            await Http.post('/docm', values)\r\n          }\r\n          const { match } = this.props\r\n          const path = match.path.replace('/edit', '/list')\r\n          this.props.history.push(path)\r\n        }\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { mode, fileList } = this.state\r\n    const setFieldsValue = this.form\r\n      ? this.form.props.form.setFieldsValue\r\n      : undefined\r\n    return (\r\n      <Content>\r\n        <Breadcrumb style={{ margin: '8px' }}>\r\n          <Breadcrumb.Item>当前位置：</Breadcrumb.Item>\r\n          <Breadcrumb.Item>我的项目</Breadcrumb.Item>\r\n          <Breadcrumb.Item>新建</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <div\r\n          style={{\r\n            margin: '4px 4px 10px',\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <div style={{ order: 2, flexGrow: 1, padding: '0 8px 0 0' }}>\r\n            <span style={{ float: 'right' }}>\r\n              <Button block type={'default'} onClick={this.handleCancel}>\r\n                返回\r\n              </Button>\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div style={{ margin: '8px' }}>\r\n          <WrappedNormalForm\r\n            wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n              this.form = form\r\n            }}\r\n          />\r\n          <Form labelCol={{ span: 8 }} wrapperCol={{ span: 8 }}>\r\n            <Form.Item key={'files'} label=\"上传附件\">\r\n              <Upload\r\n                style={{ width: '100%' }}\r\n                name=\"files\"\r\n                action={`${serverPath}/doc`}\r\n                listType={'picture'}\r\n                multiple={false}\r\n                fileList={fileList}\r\n                onChange={info => {\r\n                  const { fileList } = info\r\n                  const attachments = fileList\r\n                    .filter(file => {\r\n                      return file.status === 'done'\r\n                    })\r\n                    .map(file => {\r\n                      return {\r\n                        docName: file.response.data[0]['docName'],\r\n                        docPath: file.response.data[0]['docPath']\r\n                      }\r\n                    })\r\n                  setFieldsValue && setFieldsValue({ attachments })\r\n                  this.setState({ fileList })\r\n                }}\r\n              >\r\n                <Button block>\r\n                  <Icon type=\"upload\" /> 请选择\r\n                </Button>\r\n              </Upload>\r\n            </Form.Item>\r\n            <Form.Item key={'submit'} wrapperCol={{ span: 8, offset: 8 }}>\r\n              <Button block type={'primary'} onClick={this.handleSubmit}>\r\n                {mode === 'add' ? '提交' : '保存'}\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </Content>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(List)\r\n\r\ninterface FormProps extends FormComponentProps {}\r\n\r\ninterface FormState {\r\n  defaultFileList: Array<any>\r\n}\r\n\r\nclass NormalForm extends React.Component<FormProps, FormState> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form labelCol={{ span: 8 }} wrapperCol={{ span: 8 }}>\r\n        {getFieldDecorator('id')(<Input hidden />)}\r\n        <Form.Item key={'projectName'} label=\"项目名称\">\r\n          {getFieldDecorator('projectName', {\r\n            rules: [{ required: true, message: '请输入项目名称' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'projectType'} label=\"项目类型\">\r\n          {getFieldDecorator('projectType', {\r\n            rules: [{ required: false, message: '请输入项目类型' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'company'} label=\"公司名称\">\r\n          {getFieldDecorator('company', {\r\n            rules: [{ required: false, message: '请输入公司名称' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'contractNum'} label=\"合同号\">\r\n          {getFieldDecorator('contractNum', {\r\n            rules: [{ required: false, message: '请输入合同号' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'contractTime'} label=\"合同签订时间\">\r\n          {getFieldDecorator('contractTime', {\r\n            rules: [{ required: false, message: '请输入合同签订时间' }]\r\n          })(<DatePicker format={'YYYY-MM-DD'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'credentialNum'} label=\"凭证号\">\r\n          {getFieldDecorator('credentialNum', {\r\n            rules: [{ required: false, message: '请输入凭证号' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item key={'credentialTime'} label=\"凭证时间\">\r\n          {getFieldDecorator('credentialTime', {\r\n            rules: [{ required: false, message: '请输入凭证时间' }]\r\n          })(<MonthPicker format={'YYYY-MM'} />)}\r\n        </Form.Item>\r\n        <Form.Item key={'money'} label=\"金额\">\r\n          {getFieldDecorator('money', {\r\n            rules: [{ required: false, message: '请输入金额' }]\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        {getFieldDecorator('attachments')}\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalForm)\r\n","import React from 'react'\r\nimport {\r\n  Layout\r\n  // Menu, Icon\r\n} from 'antd'\r\nimport {\r\n  HashRouter,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n  withRouter,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport ListCmpt from './list'\r\nimport EditCmpt from './edit'\r\n// import ViewCmpt from './view'\r\n\r\nconst { Sider } = Layout\r\n\r\ntype IProps = RouteComponentProps & {\r\n  username: string\r\n}\r\n\r\ninterface IState {\r\n  collapsed: boolean\r\n}\r\n\r\nclass Docm extends React.Component<IProps, IState> {\r\n  constructor(props: IProps) {\r\n    super(props)\r\n    this.state = {\r\n      collapsed: false\r\n    }\r\n  }\r\n\r\n  handleSearch = (value: string) => {\r\n    console.log(value)\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <Sider width={0} />\r\n        <Layout style={{ padding: '0 24px 24px' }}>\r\n          <div style={{ margin: '0px', background: 'rgb(255, 255, 255)' }}>\r\n            <HashRouter>\r\n              <Switch>\r\n                <Redirect\r\n                  path={'/main/docm'}\r\n                  exact={true}\r\n                  to={'/main/docm/list'}\r\n                />\r\n                <Route path={'/main/docm/list'} component={ListCmpt} />\r\n                <Route path={'/main/docm/edit/:id'} component={EditCmpt} />\r\n                <Route path={'/main/docm/edit'} component={EditCmpt} />\r\n                {/* <Route path={'/main/docm/view'} component={ViewCmpt} /> */}\r\n              </Switch>\r\n            </HashRouter>\r\n          </div>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Docm)\r\n","import React from 'react'\r\nimport './index.css'\r\nimport {\r\n  HashRouter,\r\n  Switch,\r\n  withRouter,\r\n  Redirect,\r\n  Route,\r\n  RouteComponentProps\r\n} from 'react-router-dom'\r\nimport UserModule from './user/index'\r\nimport DocmModule from './docm/index'\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ntype IState = {}\r\n\r\nclass Side extends React.Component<IProps, IState> {\r\n  state = {\r\n    collapsed: false\r\n  }\r\n\r\n  handleSearch = (value: string) => {\r\n    console.log(value)\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <Switch>\r\n          <Redirect path={'/main'} exact={true} to={'/main/docm'} />\r\n          <Route path={'/main/docm'} component={DocmModule} />\r\n          <Route path={'/main/user'} component={UserModule} />\r\n        </Switch>\r\n      </HashRouter>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Side)\r\n","import React, { Component } from 'react'\r\nimport { Layout } from 'antd'\r\nimport HomeHeader from './header/index'\r\nimport HomeSider from './sider/index'\r\nimport './index.css'\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nclass Home extends Component<IProps, IState> {\r\n  state = {\r\n    collapsed: false\r\n  }\r\n\r\n  toggleCollapsed = () => {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Layout className=\"ant-layout-home\">\r\n        <HomeHeader />\r\n        <HomeSider />\r\n      </Layout>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\nimport { Form, Icon, Input, Button, message } from 'antd'\r\nimport { FormComponentProps } from 'antd/lib/form'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport Http from '../common/http/index'\r\nimport md5 from 'js-md5'\r\nimport img from '../assert/img/b.png'\r\nimport './index.css'\r\n\r\ntype IProps = RouteComponentProps & {}\r\n\r\ninterface IState {}\r\n\r\nclass Login extends React.Component<IProps, IState> {\r\n  form: React.ReactElement<FormProps> | undefined\r\n\r\n  handleSubmit = (e: React.MouseEvent) => {\r\n    e.preventDefault()\r\n    this.form &&\r\n      this.form.props.form.validateFields(async (err, values) => {\r\n        if (!err) {\r\n          const password = md5(values.password)\r\n          await Http.post('/login', { ...values, password })\r\n            .then(res => {\r\n              if (res.data.status === '00000000') {\r\n                sessionStorage.setItem('userId', res.data.data.username)\r\n                setTimeout(() => {\r\n                  this.props.history.push('/main')\r\n                }, 300)\r\n              } else {\r\n                this.form &&\r\n                  this.form.props.form.setFields({\r\n                    password: {\r\n                      value: values.password,\r\n                      errors: [new Error(res.data.message)]\r\n                    }\r\n                  })\r\n              }\r\n            })\r\n            .catch(err => {\r\n              message.error('服务器异常')\r\n            })\r\n        }\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{\r\n          width: '100%',\r\n          height: 0,\r\n          paddingBottom: '48%',\r\n          overflow: 'hidden',\r\n          backgroundPosition: '50%',\r\n          backgroundRepeat: 'no - repeat',\r\n          backgroundSize: 'cover',\r\n          backgroundImage: `url(${img})`\r\n        }}\r\n      >\r\n        <div className=\"login-form\">\r\n          <WrappedNormalLoginForm\r\n            wrappedComponentRef={(form: React.ReactElement<FormProps>) => {\r\n              this.form = form\r\n            }}\r\n          />\r\n          <Button\r\n            className=\"login-form-button\"\r\n            type=\"primary\"\r\n            onClick={this.handleSubmit}\r\n          >\r\n            登录\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Login)\r\n\r\ninterface FormProps extends FormComponentProps {\r\n  username: string\r\n  password: string\r\n  onSubmit?: () => void\r\n}\r\n\r\nclass NormalLoginForm extends React.Component<FormProps, any> {\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form\r\n    return (\r\n      <Form>\r\n        <Form.Item>\r\n          {getFieldDecorator('username', {\r\n            rules: [{ required: true, message: '请输入用户名' }]\r\n          })(\r\n            <Input\r\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"Username\"\r\n            />\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('password', {\r\n            rules: [{ required: true, message: '请输入密码' }]\r\n          })(\r\n            <Input\r\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n            />\r\n          )}\r\n        </Form.Item>\r\n      </Form>\r\n    )\r\n  }\r\n}\r\n\r\nconst WrappedNormalLoginForm = Form.create({\r\n  name: 'normal_login'\r\n})(NormalLoginForm)\r\n","import React, { PureComponent } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { HashRouter, Switch, Route, Redirect } from 'react-router-dom'\r\nimport PrivateRoute from './common/route'\r\nimport Home from './home/index'\r\nimport Login from './login/index'\r\nimport './index.css'\r\n\r\ninterface IProps {}\r\n\r\ninterface IState {}\r\n\r\nclass App extends PureComponent<IProps, IState> {\r\n  render() {\r\n    return (\r\n      <HashRouter>\r\n        <Switch>\r\n          <Redirect path={'/'} exact={true} to={'/main'} />\r\n          <Route path={'/login'} component={Login} />\r\n          <PrivateRoute path={'/main'} component={Home} />\r\n        </Switch>\r\n      </HashRouter>\r\n    )\r\n  }\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}