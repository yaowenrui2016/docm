(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{265:function(e,t,a){e.exports=a.p+"static/media/aaa.c155b94e.jpg"},271:function(e,t,a){e.exports=a(535)},287:function(e,t,a){},335:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},534:function(e,t,a){},535:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(22),c=a(24),l=a(23),o=a(25),i=a(1),s=a.n(i),u=a(8),m=a.n(u),d=a(38),p=a(79),f=a(268),h=function(e){var t=e.component,a=Object(f.a)(e,["component"]);return s.a.createElement(p.b,Object.assign({},a,{render:function(e){return sessionStorage.getItem("userId")?s.a.createElement(t,null):s.a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location.pathname}}})}}))},g=(a(68),a(32)),y=a(43),E=(a(145),a(98)),v=(a(283),a(252)),b=(a(146),a(45)),k=(a(64),a(16)),O=(a(287),[{key:"/docm",title:"\u9879\u76ee\u5408\u540c",role:["normal"]},{key:"/user",title:"\u8d26\u53f7\u7ba1\u7406",role:["admin"]},{key:"/log",title:"\u65e5\u5fd7\u5ba1\u8ba1",role:["admin"]},{key:"/account",title:"\u6211\u7684\u8d26\u53f7",role:["normal","admin"]}]),j=g.a.Header,x=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).fetchDefaultSelectedKey=function(e){var t=a.props.location.pathname,n=e.map(function(e){return e.key}),r=n.filter(function(e){return t.indexOf(e)>=0});return r.length<1?[n[0]]:r},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=s.a.createElement(b.b,null,s.a.createElement(b.b.Item,null,s.a.createElement(k.a,{onClick:function(){e.props.history.push("/main/account")}},"\u4fee\u6539\u5bc6\u7801")),s.a.createElement(b.b.Item,null,s.a.createElement(k.a,{onClick:function(){sessionStorage.removeItem("userId"),setTimeout(function(){e.props.history.push("/login")},300)}},"\u9000\u51fa")));return s.a.createElement(Me.Consumer,null,function(a){var n=O.filter(function(e){return"admin"===a.username?e.role.filter(function(e){return"admin"===e}).length>0:e.role.filter(function(e){return"normal"===e}).length>0}),r=e.fetchDefaultSelectedKey(n);return s.a.createElement("div",null,s.a.createElement(j,{className:"header"},s.a.createElement(b.b,{className:"navbar",theme:"dark",mode:"horizontal",selectedKeys:r,style:{lineHeight:"64px"},onSelect:function(t){var a=e.props,n=a.history,r=a.match;n.push(r.path+t.key)}},n.map(function(e){return s.a.createElement(b.b.Item,{className:"navbar-item",key:e.key},e.title)})),s.a.createElement(E.a,{overlay:t,placement:"bottomRight"},s.a.createElement(v.a,{style:{margin:"0 8px 0 0",color:"white",fontSize:"25px"},size:"large"},a.username))))})}}]),t}(i.Component),C=Object(p.g)(x),w=(a(335),a(107),a(7)),S=(a(337),a(338),a(108),a(34)),I=(a(83),a(37)),D=(a(198),a(67)),T=(a(199),a(46)),z=(a(121),a(18)),Y=(a(200),a(140)),M=(a(110),a(28)),N=a(29),L=a.n(N),R=a(44),P=a(253),_=a.n(P),K=a(50),q="http://localhost:8090",F=_.a.create({baseURL:q,withCredentials:!1,timeout:6e4});F.interceptors.request.use(function(e){var t=sessionStorage.getItem("xAuthToken");return t&&(e.headers["x-auth-token"]=t),e},function(e){console.error("\u8bf7\u6c42\u5f02\u5e38")}),F.interceptors.response.use(function(e){var t=e.headers["x-auth-token"];return t&&sessionStorage.setItem("xAuthToken",t),e},function(e){401===e.response.status&&(sessionStorage.removeItem("userId"),I.a.error("\u767b\u5f55\u8d85\u65f6\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",3),setTimeout(function(){Object(K.b)().push("/login")},500))});var A=F,B=a(137),V=a.n(B),H=g.a.Content,Z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).form=void 0,a.handleCancel=function(e){e.preventDefault(),a.jumpBack()},a.handleSubmit=function(e){e.preventDefault(),a.form&&a.form.props.form.validateFields(function(){var e=Object(R.a)(L.a.mark(function e(t,n){var r;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return r=Object(y.a)({},n,{password:V()(n.password?n.password:"1234")}),e.next=4,A.put("/user",r);case 4:a.jumpBack();case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.handlePermOnChange=function(e){a.form&&a.form.props.form.setFieldsValue({permissions:e.map(function(e){return{id:e}})}),a.setState({permissions:e})},a.state={treeData:[],permissions:[]},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.get("/perm/all").then(function(t){var a=t.data.data.map(function(e,t){return{key:t,title:e.group,value:void 0,children:e.permissions.map(function(e){return{key:e.id,title:e.name,value:e.id}})}});e.setState({treeData:a})}).catch(function(e){})}},{key:"jumpBack",value:function(){var e=this.props.match.path.replace("/add","/list");this.props.history.push(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.treeData,n=t.permissions;return s.a.createElement(H,null,s.a.createElement(M.a,{style:{margin:"8px"}},s.a.createElement(M.a.Item,null,"\u5f53\u524d\u4f4d\u7f6e\uff1a"),s.a.createElement(M.a.Item,null,"\u8d26\u53f7\u4e0e\u5b89\u5168"),s.a.createElement(M.a.Item,null,"\u8d26\u53f7\u7ba1\u7406"),s.a.createElement(M.a.Item,null,"\u65b0\u5efa")),s.a.createElement("div",{style:{margin:"4px 4px 10px",display:"flex",alignItems:"center"}},s.a.createElement("div",{style:{order:2,flexGrow:1,padding:"0 8px 0 0"}},s.a.createElement("span",{style:{float:"right"}},s.a.createElement(k.a,{block:!0,type:"default",onClick:this.handleCancel},"\u8fd4\u56de")))),s.a.createElement("div",{style:{margin:"8px"}},s.a.createElement(G,{wrappedComponentRef:function(t){e.form=t}}),s.a.createElement(D.a,{gutter:60},s.a.createElement(T.a,{span:16,offset:4},s.a.createElement(z.a.Item,{key:"permissions",label:"\u8d26\u53f7\u6388\u6743"},s.a.createElement(Y.a,{style:{width:"100%"},searchPlaceholder:"\u8bf7\u9009\u62e9\u6743\u9650",multiple:!0,treeData:a,value:n,treeCheckable:!0,onChange:this.handlePermOnChange})))),s.a.createElement(D.a,{gutter:60},s.a.createElement(T.a,{span:3,offset:9},s.a.createElement(k.a,{block:!0,type:"primary",onClick:this.handleSubmit},"\u63d0\u4ea4")),s.a.createElement(T.a,{span:3},s.a.createElement(k.a,{block:!0,onClick:function(){I.a.info("\u6e05\u7a7a\u8868\u5355")}},"\u53d6\u6d88")))))}}]),t}(s.a.Component),U=Object(p.g)(Z),$=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement(z.a,null,e("id")(s.a.createElement(S.a,{hidden:!0})),s.a.createElement(D.a,{gutter:60},s.a.createElement(T.a,{span:8,offset:4},s.a.createElement(z.a.Item,{key:"username",label:"\u7528\u6237\u540d"},e("username",{rules:[{required:!0,type:"string",pattern:/^[a-zA-Z][a-zA-Z1-9_]{2,11}$/,message:"\u7528\u6237\u540d\u4e3a3~12\u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf,\u7b2c\u4e00\u4f4d\u5fc5\u987b\u4e3a\u5b57\u6bcd"},{message:"\u7528\u6237\u540d\u5df2\u5b58\u5728",validator:function(){var e=Object(R.a)(L.a.mark(function e(t,a,n,r,c){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("/user/cku-username?username=".concat(a)).then(function(e){if("00000000"===e.data.status){var t=!0===e.data.data||void 0;n(t)}else I.a.error(e.data.message),n()}).catch(function(e){I.a.error("\u670d\u52a1\u5668\u5f02\u5e38"),n()});case 2:case"end":return e.stop()}},e)}));return function(t,a,n,r,c){return e.apply(this,arguments)}}()}],validateTrigger:"onBlur"})(s.a.createElement(S.a,null)))),s.a.createElement(T.a,{span:8},s.a.createElement(z.a.Item,{key:"password",label:"\u5bc6\u7801"},e("password",{rules:[{required:!1,message:"\u5bc6\u7801\u4e3a4~16\u4f4d\u4efb\u610f\u5b57\u7b26",pattern:/^.{4,16}$/}],validateTrigger:"onBlur"})(s.a.createElement(S.a,{type:"password",placeholder:"\u9ed8\u8ba4\u5bc6\u7801\u4e3a1234"}))))),s.a.createElement(D.a,{gutter:60},s.a.createElement(T.a,{span:8,offset:4},s.a.createElement(z.a.Item,{key:"phone",label:"\u624b\u673a"},e("phone",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",max:11}],validateTrigger:"onBlur"})(s.a.createElement(S.a,null)))),s.a.createElement(T.a,{span:8},s.a.createElement(z.a.Item,{key:"email",label:"\u90ae\u7bb1"},e("email",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1",type:"email"}],validateTrigger:"onBlur"})(s.a.createElement(S.a,null))))),e("permissions"))}}]),t}(s.a.Component),G=z.a.create({name:"normal_login"})($),W=g.a.Content,J=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).form=void 0,a.handleCancel=function(e){e.preventDefault();var t=a.props.match.path.replace("/edit","/list");a.props.history.push(t)},a.handleSubmit=function(e){e.preventDefault(),a.form&&a.form.props.form.validateFields(function(){var e=Object(R.a)(L.a.mark(function e(t,n){var r,c,l;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return r=Object(y.a)({},n),e.next=4,A.post("/user",r);case 4:c=a.props.match,l=c.path.replace("/edit","/list"),a.props.history.push(l);case 7:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.handlePermOnChange=function(e){a.form&&a.form.props.form.setFieldsValue({permissions:e.map(function(e){return{id:e}})}),a.setState({permissions:e})},a.state={id:a.props.match.params.id,loading:!0,treeData:[],permissions:[]},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state.id;this.setState({loading:!0},function(){A.get("/user?id=".concat(t)).then(function(t){var a=t.data.data;e.form&&e.form.props.form.setFieldsValue(Object(y.a)({},a));var n=a.permissions.map(function(e){return e.id});e.setState({loading:!1,permissions:n})}).catch(function(t){e.setState({loading:!1})}),A.get("/perm/all").then(function(t){var a=t.data.data.map(function(e,t){return{key:t,title:e.group,value:void 0,children:e.permissions.map(function(e){return{key:e.id,title:e.name,value:e.id}})}});e.setState({treeData:a})}).catch(function(e){})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.treeData,r=t.permissions;return s.a.createElement(W,null,s.a.createElement(M.a,{style:{margin:"8px"}},s.a.createElement(M.a.Item,null,"\u5f53\u524d\u4f4d\u7f6e\uff1a"),s.a.createElement(M.a.Item,null,"\u8d26\u53f7\u4e0e\u5b89\u5168"),s.a.createElement(M.a.Item,null,"\u8d26\u53f7\u7ba1\u7406"),s.a.createElement(M.a.Item,null,"\u7f16\u8f91")),s.a.createElement("div",{style:{margin:"4px 4px 10px",display:"flex",alignItems:"center"}},s.a.createElement("div",{style:{order:2,flexGrow:1,padding:"0 8px 0 0"}},s.a.createElement("span",{style:{float:"right"}},s.a.createElement(k.a,{block:!0,type:"default",onClick:this.handleCancel},"\u8fd4\u56de")))),s.a.createElement("div",{style:{margin:"8px"}},s.a.createElement(ee,{wrappedComponentRef:function(t){e.form=t}}),s.a.createElement(D.a,{gutter:60},s.a.createElement(T.a,{span:16,offset:4},s.a.createElement(z.a.Item,{key:"permissions",label:"\u8d26\u53f7\u6388\u6743"},s.a.createElement(Y.a,{style:{width:"100%"},searchPlaceholder:"\u8bf7\u9009\u62e9\u6743\u9650",multiple:!0,treeData:n,value:r,treeCheckable:!0,onChange:this.handlePermOnChange})))),s.a.createElement(D.a,{gutter:60},s.a.createElement(T.a,{span:3,offset:9},s.a.createElement(k.a,{block:!0,type:"primary",loading:a,onClick:this.handleSubmit},"\u4fdd\u5b58")),s.a.createElement(T.a,{span:3},s.a.createElement(k.a,{block:!0,onClick:function(){I.a.info("\u6e05\u7a7a\u8868\u5355")}},"\u53d6\u6d88")))))}}]),t}(s.a.Component),Q=Object(p.g)(J),X=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldValue;return s.a.createElement(z.a,null,t("id")(s.a.createElement(S.a,{hidden:!0})),s.a.createElement(D.a,{gutter:60},s.a.createElement(T.a,{span:8,offset:4},s.a.createElement(z.a.Item,{key:"username",label:"\u7528\u6237\u540d"},t("username",{rules:[{required:!0,type:"string",pattern:/^[a-zA-Z][a-zA-Z1-9_]{2,11}$/,message:"\u7528\u6237\u540d\u4e3a3~12\u4f4d\u5b57\u6bcd\u3001\u6570\u5b57\u6216\u4e0b\u5212\u7ebf,\u7b2c\u4e00\u4f4d\u5fc5\u987b\u4e3a\u5b57\u6bcd"},{message:"\u7528\u6237\u540d\u5df2\u5b58\u5728",validator:function(){var e=Object(R.a)(L.a.mark(function e(t,n,r,c,l){var o;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=a("id"),e.next=3,A.get("/user/cku-username?username=".concat(n,"&id=").concat(o)).then(function(e){if("00000000"===e.data.status){var t=!0===e.data.data||void 0;r(t)}else I.a.error(e.data.message),r()}).catch(function(e){I.a.error("\u670d\u52a1\u5668\u5f02\u5e38"),r()});case 3:case"end":return e.stop()}},e)}));return function(t,a,n,r,c){return e.apply(this,arguments)}}()}],validateTrigger:"onBlur"})(s.a.createElement(S.a,null)))),s.a.createElement(T.a,{span:8})),s.a.createElement(D.a,{gutter:60},s.a.createElement(T.a,{span:8,offset:4},s.a.createElement(z.a.Item,{key:"phone",label:"\u624b\u673a"},t("phone",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7",max:11}],validateTrigger:"onBlur"})(s.a.createElement(S.a,null)))),s.a.createElement(T.a,{span:8},s.a.createElement(z.a.Item,{key:"email",label:"\u90ae\u7bb1"},t("email",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1",type:"email"}],validateTrigger:"onBlur"})(s.a.createElement(S.a,null))))),t("permissions"))}}]),t}(s.a.Component),ee=z.a.create({name:"normal_login"})(X),te=(a(109),a(66)),ae=(a(249),a(139)),ne=(a(122),a(72)),re=(a(230),a(141)),ce=a(14),le=a.n(ce);function oe(e){return e.replace(/([A-Z])/g,"_$1").toLowerCase()}var ie=g.a.Content,se=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleListChange=function(){a.setState({loading:!0},function(){var e=a.state,t=e.pageSize,n=e.current,r=e.param,c=Object(y.a)({pageSize:t,current:n},r);A.post("/user/list",c).then(function(e){a.setState({loading:!1,data:e.data.data})}).catch(function(e){a.setState({loading:!1})})})},a.handleSelectChange=function(e){a.state.param.conditions.keywords=e,a.setState({current:1}),a.handleListChange()},a.handleDeleteOper=function(){var e=Object(R.a)(L.a.mark(function e(t){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:re.a.confirm({title:"\u786e\u5b9a\u5220\u9664?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var e=Object(R.a)(L.a.mark(function e(){var n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",t.forEach(function(e){return n=n.concat("ids=".concat(e,"&"))}),e.next=4,A.delete("/user?".concat(n.substring(0,n.length-1)));case 4:I.a.success("\u5220\u9664\u6210\u529f"),a.handleListChange();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={loading:!0,selectedRowKeys:[],data:{total:void 0,content:[]},pageSize:10,current:1,param:{conditions:{},sorters:{}}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.handleListChange()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.selectedRowKeys,r=t.data,c=t.pageSize,l=t.current,o=r.total,i=r.content,u=[{title:"\u5e8f\u53f7",key:"index",render:function(e,t,a){return a+1}},{title:"\u7528\u6237\u540d",dataIndex:"username",key:"username"},{title:"\u624b\u673a",dataIndex:"phone",key:"phone"},{title:"\u90ae\u7bb1",dataIndex:"email",key:"email"},{title:"\u51bb\u7ed3\u72b6\u6001",dataIndex:"frozen",key:"frozen",render:function(e,t,a){return t.frozen?"\u5df2\u51bb\u7ed3":"\u6b63\u5e38"}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",render:function(e,t,a){return le()(t.createTime).format("YYYY-MM-DD HH:mm:ss")},sorter:function(e,t){return e.id-t.id}},{title:"\u64cd\u4f5c",key:"operation",render:function(t,a,n){return s.a.createElement("div",null,s.a.createElement(w.a,{style:{fontSize:"17px",margin:"0 9px 0 0"},title:"\u7f16\u8f91",type:"edit",onClick:function(t){t.preventDefault();var n=e.props.match.path.replace("/list","/edit/".concat(a.id));e.props.history.push(n)}}),s.a.createElement(w.a,{style:{fontSize:"17px",margin:"0 9px 0 0"},title:a.frozen?"\u89e3\u51bb":"\u51bb\u7ed3",type:a.frozen?"lock":"unlock",onClick:function(t){t.preventDefault();var n=a.frozen?"unfreeze":"freeze";A.post("/user/".concat(n),{ids:[a.id]}).then(function(t){I.a.success("".concat(a.frozen?"\u89e3\u51bb":"\u51bb\u7ed3","\u6210\u529f")),e.handleListChange()}).catch(function(t){e.handleListChange()})}}),s.a.createElement("div",{id:"downloadDiv",style:{display:"none"}}),s.a.createElement(w.a,{style:{fontSize:"17px",margin:"0 9px 0 0"},title:"\u5220\u9664",type:"delete",onClick:function(t){t.preventDefault(),e.handleDeleteOper([a.id])}}))}}];return s.a.createElement(ie,null,s.a.createElement(M.a,{style:{margin:"8px"}},s.a.createElement(M.a.Item,null,"\u5f53\u524d\u4f4d\u7f6e\uff1a"),s.a.createElement(M.a.Item,null,"\u8d26\u53f7\u4e0e\u5b89\u5168"),s.a.createElement(M.a.Item,null,"\u8d26\u53f7\u7ba1\u7406"),s.a.createElement(M.a.Item,null,"\u67e5\u8be2")),s.a.createElement("div",{style:{margin:"4px",display:"flex",alignItems:"center"}},s.a.createElement("div",{style:{margin:"4px",flex:1}},s.a.createElement(ne.a,{mode:"tags",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:"280px"},tokenSeparators:[" "],showArrow:!0,suffixIcon:s.a.createElement(w.a,{style:{fontSize:"16px"},type:"search"}),onChange:this.handleSelectChange,notFoundContent:null})),s.a.createElement("div",{style:{margin:"4px",flex:1}},s.a.createElement("span",{style:{float:"right"}},s.a.createElement(k.a,{className:"ele-operation",type:"primary",onClick:function(){var t=e.props.match.path.replace("/list","/add");e.props.history.push(t)}},"\u65b0\u5efa"),s.a.createElement(k.a,{type:"ghost",disabled:n.length<1,onClick:function(){e.handleDeleteOper(n)}},"\u6279\u91cf\u5220\u9664")))),s.a.createElement("div",{style:{margin:"8px"}},a||r.content.length>0?s.a.createElement(ae.a,{rowKey:function(e){return e.id},rowSelection:{selectedRowKeys:n,onChange:function(t){e.setState({selectedRowKeys:t})}},columns:u,dataSource:i,loading:a,onRow:function(e,t){return{onClick:function(e){e.target.tagName}}},size:"middle",pagination:{total:o,current:l,pageSize:c,showSizeChanger:!0,showTotal:function(e){return"\u5171".concat(e,"\u6761")}},onChange:function(t,a,n,r){var c=e.state.param,l=t.current,o=t.pageSize,i=n.field,s=n.order;c.sorters={},i&&s&&(c.sorters[oe(i)]=function(e){return"descend"===e?"desc":"asc"}(s)),e.setState({current:l,pageSize:o}),e.handleListChange()}}):s.a.createElement(te.a,{description:"\u6682\u65e0\u5185\u5bb9"})))}}]),t}(s.a.Component);var ue=Object(p.g)(se),me=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={collapsed:!1,selectedKeys:[]},a.handleOnSelect=function(e){var t=e.key;a.setState({selectedKeys:[t]}),a.props.history.push("".concat("/main/user").concat(t))},a.toggleCollapsed=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.handleOnSelect({key:"/manage"})}},{key:"render",value:function(){return s.a.createElement("div",{style:{margin:"0px",background:"rgb(255, 255, 255)"}},s.a.createElement(d.a,null,s.a.createElement(p.d,null,s.a.createElement(p.a,{path:"/main/user/manage",exact:!0,to:"/main/user/manage/list"}),s.a.createElement(p.b,{path:"/main/user/manage/list",component:ue}),s.a.createElement(p.b,{path:"/main/user/manage/add",component:U}),s.a.createElement(p.b,{path:"/main/user/manage/edit/:id",component:Q}))))}}]),t}(s.a.Component),de=Object(p.g)(me),pe=g.a.Sider,fe=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={collapsed:!1,selectedKeys:[]},a.handleOnSelect=function(e){var t=e.key;a.setState({selectedKeys:[t]}),a.props.history.push("".concat("/main/user").concat(t))},a.toggleCollapsed=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.handleOnSelect({key:"/manage"})}},{key:"render",value:function(){var e=this.state.selectedKeys;return s.a.createElement(g.a,null,s.a.createElement(pe,{width:180,theme:"dark",collapsed:this.state.collapsed,collapsedWidth:80},s.a.createElement("span",{className:"aside-top",onClick:this.toggleCollapsed},s.a.createElement(w.a,{style:{margin:"0 0 0 10px"},type:this.state.collapsed?"menu-unfold":"menu-fold"})),s.a.createElement(b.b,{selectedKeys:e,mode:"inline",theme:"dark",onSelect:this.handleOnSelect},s.a.createElement(b.b.Item,{className:"aside-item",key:"/manage"},s.a.createElement(w.a,{type:"user"}),s.a.createElement("span",null,"\u8d26\u53f7\u7ba1\u7406")),s.a.createElement(b.b.Item,{className:"aside-item",key:"/authority"},s.a.createElement(w.a,{type:"safety-certificate"}),s.a.createElement("span",null,"\u6388\u6743\u67e5\u8be2")))),s.a.createElement(g.a,{style:{padding:"0 24px 24px"}},s.a.createElement(d.a,null,s.a.createElement(p.d,null,s.a.createElement(p.b,{path:"/main/user/manage",component:de})))))}}]),t}(s.a.Component),he=Object(p.g)(fe),ge=(a(487),a(267)),ye=g.a.Content,Ee=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleListChange=function(){a.setState({loading:!0},function(){var e=a.state,t=e.pageSize,n=e.current,r=e.param,c=Object(y.a)({pageSize:t,current:n},r);A.post("/docm/list",c).then(function(e){a.setState({loading:!1,data:e.data.data})}).catch(function(e){a.setState({loading:!1})})})},a.handleSelectChange=function(e){a.state.param.conditions.keywords=e,a.setState({current:1}),a.handleListChange()},a.handleDeleteOper=function(){var e=Object(R.a)(L.a.mark(function e(t){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:re.a.confirm({title:"\u786e\u5b9a\u5220\u9664?",okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onOk:function(){var e=Object(R.a)(L.a.mark(function e(){var n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="",t.forEach(function(e){return n=n.concat("ids=".concat(e,"&"))}),e.next=4,A.delete("/docm?".concat(n.substring(0,n.length-1)));case 4:I.a.success("\u5220\u9664\u6210\u529f"),a.handleListChange();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={loading:!0,selectedRowKeys:[],data:{total:void 0,content:[]},pageSize:10,current:1,param:{conditions:{},sorters:{}}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.handleListChange()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.selectedRowKeys,r=t.data,c=t.pageSize,l=t.current,o=r.total,i=r.content,u=[{title:"\u5e8f\u53f7",key:"index",render:function(e,t,a){return a+1}},{title:"\u9879\u76ee\u540d\u79f0",dataIndex:"projectName",key:"projectName"},{title:"\u9879\u76ee\u7c7b\u578b",dataIndex:"projectType",key:"projectType"},{title:"\u516c\u53f8\u540d\u79f0",dataIndex:"company",key:"company"},{title:"\u5408\u540c\u53f7",dataIndex:"contractNum",key:"contractNum"},{title:"\u5408\u540c\u7b7e\u8ba2\u65f6\u95f4",dataIndex:"contractTime",key:"contractTime",sorter:function(e,t){return e.id-t.id}},{title:"\u51ed\u8bc1\u65f6\u95f4",dataIndex:"credentialTime",key:"credentialTime",sorter:function(e,t){return e.id-t.id}},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",render:function(e,t,a){return le()(t.createTime).format("YYYY-MM-DD HH:mm:ss")},sorter:function(e,t){return e.id-t.id}},{title:"\u64cd\u4f5c",key:"operation",render:function(t,a,n){return s.a.createElement(Me.Consumer,null,function(t){var n=t.permissions.find(function(e){return"DOCM_EDIT_OPER"===e.id}),r=t.permissions.find(function(e){return"DOCM_DELETE_OPER"===e.id}),c=t.permissions.find(function(e){return"DOCM_DOWNLOAD_OPER"===e.id});return s.a.createElement("div",null,n&&s.a.createElement(w.a,{style:{fontSize:"17px",margin:"0 9px 0 0"},title:"\u7f16\u8f91",type:"edit",onClick:function(){var t=e.props.match.path.replace("/list","/edit/".concat(a.id));e.props.history.push(t)}}),c&&s.a.createElement(w.a,{style:{fontSize:"17px",margin:"0 9px 0 0"},title:"\u4e0b\u8f7d",type:"download",onClick:function(e){var t="".concat(q,"/doc?id=").concat(a.id),n=document.createElement("a");n.href=t,n.target="_blank",n.click(),window.URL.revokeObjectURL(t)}}),s.a.createElement("div",{id:"downloadDiv",style:{display:"none"}}),r&&s.a.createElement(w.a,{style:{fontSize:"17px",margin:"0 9px 0 0"},title:"\u5220\u9664",type:"delete",onClick:function(){return e.handleDeleteOper([a.id])}}))})}}];return s.a.createElement(Me.Consumer,null,function(t){var m=t.permissions.find(function(e){return"DOCM_LIST_VIEW"===e.id}),d=t.permissions.find(function(e){return"DOCM_ADD_OPER"===e.id}),p=t.permissions.find(function(e){return"DOCM_DELETE_OPER"===e.id});return m?s.a.createElement(ye,null,s.a.createElement(M.a,{style:{margin:"8px"}},s.a.createElement(M.a.Item,null,"\u5f53\u524d\u4f4d\u7f6e\uff1a"),s.a.createElement(M.a.Item,null,"\u6211\u7684\u9879\u76ee"),s.a.createElement(M.a.Item,null,"\u67e5\u8be2")),s.a.createElement("div",{style:{margin:"4px",display:"flex",alignItems:"center"}},s.a.createElement("div",{style:{margin:"4px",flex:1}},s.a.createElement(ne.a,{mode:"tags",placeholder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",style:{width:"280px"},tokenSeparators:[" "],showArrow:!0,suffixIcon:s.a.createElement(w.a,{style:{fontSize:"16px"},type:"search"}),onChange:e.handleSelectChange,notFoundContent:null})),s.a.createElement("div",{style:{margin:"4px",flex:1}},s.a.createElement("span",{style:{float:"right"}},d&&s.a.createElement(k.a,{className:"ele-operation",type:"primary",onClick:function(){var t=e.props.match.path.replace("/list","/edit");e.props.history.push(t)}},"\u65b0\u5efa"),p&&s.a.createElement(k.a,{type:"ghost",disabled:n.length<1,onClick:function(){e.handleDeleteOper(n)}},"\u6279\u91cf\u5220\u9664")))),s.a.createElement("div",{style:{margin:"8px"}},a||r.content.length>0?s.a.createElement(ae.a,{rowKey:function(e){return e.id},rowSelection:{selectedRowKeys:n,onChange:function(t){e.setState({selectedRowKeys:t})}},columns:u,dataSource:i,loading:a,onRow:function(e,t){return{onClick:function(e){e.target.tagName}}},size:"middle",pagination:{total:o,current:l,pageSize:c,showSizeChanger:!0,showTotal:function(e){return"\u5171".concat(e,"\u6761")}},onChange:function(t,a,n,r){var c=e.state.param,l=t.current,o=t.pageSize,i=n.field,s=n.order;c.sorters={},i&&s&&(c.sorters[oe(i)]=function(e){return"descend"===e?"desc":"asc"}(s)),e.setState({current:l,pageSize:o}),e.handleListChange()}}):s.a.createElement(te.a,{description:"\u6682\u65e0\u5185\u5bb9"}))):s.a.createElement(ge.a,{style:{width:"100%",height:"100%"},status:"403",title:"403",subTitle:"\u6ca1\u6709\u8bbf\u95ee\u6743\u9650"})})}}]),t}(s.a.Component);var ve=Object(p.g)(Ee),be=(a(537),a(266)),ke=(a(536),a(181)),Oe=g.a.Content,je=ke.a.MonthPicker,xe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).form=void 0,a.handleCancel=function(e){e.preventDefault();var t=a.props.match.path.replace("/edit","/list");a.props.history.push(t)},a.handleSubmit=function(e){e.preventDefault(),a.form&&a.form.props.form.validateFields(function(){var e=Object(R.a)(L.a.mark(function e(t,n){var r,c,l,o;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=14;break}if(r=Object(y.a)({},n,{contractTime:n.contractTime?n.contractTime.format("YYYY-MM-DD"):void 0,credentialTime:n.credentialTime?n.credentialTime.format("YYYY-MM"):void 0}),"add"!==(c=a.state.mode)){e.next=8;break}return e.next=6,A.put("/docm",r);case 6:e.next=11;break;case 8:if("edit"!==c){e.next=11;break}return e.next=11,A.post("/docm",r);case 11:l=a.props.match,o=l.path.replace("/edit","/list"),a.props.history.push(o);case 14:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a.state={mode:void 0,loading:!0,data:void 0,fileList:[]},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=t?"edit":"add";this.setState({mode:a,loading:!0},function(){"edit"===a?(I.a.info("\u7f16\u8f91"),A.get("/docm?id=".concat(t)).then(function(t){var a=t.data.data;e.form&&e.form.props.form.setFieldsValue(Object(y.a)({},a,{contractTime:a.contractTime?le()(a.contractTime,"YYYY-MM-DD"):void 0,credentialTime:a.credentialTime?le()(a.credentialTime,"YYYY-MM"):void 0}));var n=a.attachments.map(function(e){return{uid:e.id,size:123,name:e.docName,type:"image",status:"done",response:{status:"00000000",data:[{docName:e.docName,docPath:e.docPath}]}}});e.setState({loading:!1,fileList:n})}).catch(function(e){})):"add"===a&&(I.a.info("\u65b0\u5efa"),e.form&&e.form.props.form.setFieldsValue({attachments:[]}))})}},{key:"render",value:function(){var e=this,t=this.state,a=t.mode,n=t.fileList,r=this.form?this.form.props.form.setFieldsValue:void 0;return s.a.createElement(Oe,null,s.a.createElement(M.a,{style:{margin:"8px"}},s.a.createElement(M.a.Item,null,"\u5f53\u524d\u4f4d\u7f6e\uff1a"),s.a.createElement(M.a.Item,null,"\u6211\u7684\u9879\u76ee"),s.a.createElement(M.a.Item,null,"add"===a?"\u65b0\u5efa":"\u7f16\u8f91")),s.a.createElement("div",{style:{margin:"4px 4px 10px",display:"flex",alignItems:"center"}},s.a.createElement("div",{style:{order:2,flexGrow:1,padding:"0 8px 0 0"}},s.a.createElement("span",{style:{float:"right"}},s.a.createElement(k.a,{block:!0,type:"default",onClick:this.handleCancel},"\u8fd4\u56de")))),s.a.createElement("div",{style:{margin:"8px"}},s.a.createElement(Se,{wrappedComponentRef:function(t){e.form=t}}),s.a.createElement(z.a,{labelCol:{span:8},wrapperCol:{span:8}},s.a.createElement(z.a.Item,{key:"files",label:"\u4e0a\u4f20\u9644\u4ef6"},s.a.createElement(be.a,{style:{width:"100%"},name:"files",action:"".concat(q,"/doc"),listType:"picture",multiple:!1,fileList:n,onChange:function(t){var a=t.fileList,n=a.filter(function(e){return"done"===e.status}).map(function(e){return{docName:e.response.data[0].docName,docPath:e.response.data[0].docPath}});r&&r({attachments:n}),e.setState({fileList:a})}},s.a.createElement(k.a,{block:!0},s.a.createElement(w.a,{type:"upload"})," \u8bf7\u9009\u62e9"))),s.a.createElement(z.a.Item,{key:"submit",wrapperCol:{span:8,offset:8}},s.a.createElement(k.a,{block:!0,type:"primary",onClick:this.handleSubmit},"add"===a?"\u63d0\u4ea4":"\u4fdd\u5b58")))))}}]),t}(s.a.Component),Ce=Object(p.g)(xe),we=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement(z.a,{labelCol:{span:8},wrapperCol:{span:8}},e("id")(s.a.createElement(S.a,{hidden:!0})),s.a.createElement(z.a.Item,{key:"projectName",label:"\u9879\u76ee\u540d\u79f0"},e("projectName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9879\u76ee\u540d\u79f0"}]})(s.a.createElement(S.a,null))),s.a.createElement(z.a.Item,{key:"projectType",label:"\u9879\u76ee\u7c7b\u578b"},e("projectType",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u9879\u76ee\u7c7b\u578b"}]})(s.a.createElement(S.a,null))),s.a.createElement(z.a.Item,{key:"company",label:"\u516c\u53f8\u540d\u79f0"},e("company",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}]})(s.a.createElement(S.a,null))),s.a.createElement(z.a.Item,{key:"contractNum",label:"\u5408\u540c\u53f7"},e("contractNum",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u5408\u540c\u53f7"}]})(s.a.createElement(S.a,null))),s.a.createElement(z.a.Item,{key:"contractTime",label:"\u5408\u540c\u7b7e\u8ba2\u65f6\u95f4"},e("contractTime",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u5408\u540c\u7b7e\u8ba2\u65f6\u95f4"}]})(s.a.createElement(ke.a,{format:"YYYY-MM-DD"}))),s.a.createElement(z.a.Item,{key:"credentialNum",label:"\u51ed\u8bc1\u53f7"},e("credentialNum",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u51ed\u8bc1\u53f7"}]})(s.a.createElement(S.a,null))),s.a.createElement(z.a.Item,{key:"credentialTime",label:"\u51ed\u8bc1\u65f6\u95f4"},e("credentialTime",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u51ed\u8bc1\u65f6\u95f4"}]})(s.a.createElement(je,{format:"YYYY-MM"}))),s.a.createElement(z.a.Item,{key:"money",label:"\u91d1\u989d"},e("money",{rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u91d1\u989d"}]})(s.a.createElement(S.a,null))),e("attachments"))}}]),t}(s.a.Component),Se=z.a.create({name:"normal_login"})(we),Ie=g.a.Sider,De=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(g.a,null,s.a.createElement(Ie,{width:0}),s.a.createElement(g.a,{style:{padding:"0 24px 24px"}},s.a.createElement("div",{style:{margin:"0px",background:"rgb(255, 255, 255)"}},s.a.createElement(d.a,null,s.a.createElement(p.d,null,s.a.createElement(p.a,{path:"/main/docm",exact:!0,to:"/main/docm/list"}),s.a.createElement(p.b,{path:"/main/docm/list",component:ve}),s.a.createElement(p.b,{path:"/main/docm/edit/:id",component:Ce}),s.a.createElement(p.b,{path:"/main/docm/edit",component:Ce}))))))}}]),t}(s.a.Component),Te=Object(p.g)(De),ze=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(Me.Consumer,null,function(e){var t=O.filter(function(t){return!!e.username&&("admin"===e.username?t.role.filter(function(e){return"admin"===e}).length>0:t.role.filter(function(e){return"normal"===e}).length>0)}),a=[{key:"/docm",value:s.a.createElement(p.b,{path:"/main/docm",component:Te})},{key:"/user",value:s.a.createElement(p.b,{path:"/main/user",component:he})}];return t.length>0&&console.log(t[0].key),t.length>0&&s.a.createElement(d.a,null,s.a.createElement(p.d,null,s.a.createElement(p.a,{path:"/main",exact:!0,to:"/main".concat(t[0].key)}),a.filter(function(e){return t.filter(function(t){return t.key===e.key}).length>0}).map(function(e){return e.value})))})}}]),t}(s.a.Component),Ye=Object(p.g)(ze),Me=(a(532),s.a.createContext({})),Ne=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={collapsed:!1,userInfo:{}},a.toggleCollapsed=function(){a.setState({collapsed:!a.state.collapsed})},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;A.get("/user?id=".concat(sessionStorage.getItem("userId"))).then(function(t){var a=Object(y.a)({},t.data.data);e.setState({userInfo:a})}).catch(function(e){})}},{key:"render",value:function(){var e=this.state.userInfo;return s.a.createElement(Me.Provider,{value:e},s.a.createElement(g.a,{className:"ant-layout-home"},s.a.createElement(C,null),s.a.createElement(Ye,null)))}}]),t}(i.Component),Le=a(265),Re=a.n(Le),Pe=(a(533),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).form=void 0,a.handleSubmit=function(e){e.preventDefault(),a.form&&a.form.props.form.validateFields(function(){var e=Object(R.a)(L.a.mark(function e(t,n){var r;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}return r=V()(n.password),e.next=4,A.post("/login",Object(y.a)({},n,{password:r})).then(function(e){"00000000"===e.data.status?(sessionStorage.setItem("userId",e.data.data.id),setTimeout(function(){a.props.history.push("/main")},300)):a.form&&a.form.props.form.setFields({password:{value:n.password,errors:[new Error(e.data.message)]}})}).catch(function(e){I.a.error("\u670d\u52a1\u5668\u5f02\u5e38")});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}())},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{id:"hehe",style:{width:"100%",height:"100%",overflow:"hidden",backgroundPosition:"50%",backgroundRepeat:"no - repeat",backgroundSize:"cover",backgroundImage:"url(".concat(Re.a,")")}},s.a.createElement("div",{className:"login-form"},s.a.createElement(qe,{wrappedComponentRef:function(t){e.form=t}}),s.a.createElement(k.a,{className:"login-form-button",type:"primary",onClick:this.handleSubmit},"\u767b\u5f55")))}}]),t}(s.a.Component)),_e=Object(p.g)(Pe),Ke=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return s.a.createElement(z.a,null,s.a.createElement(z.a.Item,null,e("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]})(s.a.createElement(S.a,{prefix:s.a.createElement(w.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),s.a.createElement(z.a.Item,null,e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]})(s.a.createElement(S.a,{prefix:s.a.createElement(w.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))))}}]),t}(s.a.Component),qe=z.a.create({name:"normal_login"})(Ke),Fe=(a(534),function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(d.a,null,s.a.createElement(p.d,null,s.a.createElement(p.a,{path:"/",exact:!0,to:"/main"}),s.a.createElement(p.b,{path:"/login",component:_e}),s.a.createElement(h,{path:"/main",component:Ne})))}}]),t}(i.PureComponent));m.a.render(s.a.createElement(Fe,null),document.getElementById("root"))}},[[271,1,2]]]);
//# sourceMappingURL=main.2a7b486e.chunk.js.map